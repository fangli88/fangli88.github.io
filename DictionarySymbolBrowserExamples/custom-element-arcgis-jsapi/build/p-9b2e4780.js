import"./p-476cf7c4.js";import{c as n,z as r,f as t,w as e,x as l,g as u,u as o,p as i}from"./p-ab028778.js";import{C as f,J as c,P as a,K as s,Z as w,E as g,t as m,G as h,k as E,H as A,M as I,Q as p,R as N,U as j,X as d,V as b,W as O,Y as R,$ as M}from"./p-df16e524.js";import"./p-f75d073f.js";import"./p-2ef6e039.js";import"./p-7575e94f.js";import"./p-ebb65ba7.js";import"./p-fd91cc88.js";import"./p-43d5e67f.js";import"./p-6dae6b5e.js";import"./p-e07a8dfe.js";import"./p-f3cc8f75.js";import{A as k,m as x,d as z,y as F,g as P,l as Z,x as y,w as C,S as G,R as H,E as J,J as Q,N as U,s as V,f as W,P as Y,W as $,U as q,F as v,p as B,C as D,G as K,B as L,k as S,I as T,j as X,H as _,h as nn,O as rn}from"./p-2e04a248.js";function tn(n){return 0===u.indexOf("4.")?l.fromExtent(n):new l({spatialReference:n.spatialReference,rings:[[[n.xmin,n.ymin],[n.xmin,n.ymax],[n.xmax,n.ymax],[n.xmax,n.ymin],[n.xmin,n.ymin]]]})}function en(r){if(c(r,2,2),r[0]instanceof n&&r[1]instanceof n);else if(r[0]instanceof n&&null===r[1]);else if(r[1]instanceof n&&null===r[0]);else if(null!==r[0]||null!==r[1])throw new Error("Illegal Argument")}function ln(u){"async"===u.mode&&(u.functions.disjoint=function(n,r){return u.standardFunctionAsync(n,r,(function(n,r,t){return en(t=f(t)),null===t[0]||null===t[1]||k(t[0],t[1])}))},u.functions.intersects=function(n,r){return u.standardFunctionAsync(n,r,(function(n,r,t){return en(t=f(t)),null!==t[0]&&null!==t[1]&&x(t[0],t[1])}))},u.functions.touches=function(n,r){return u.standardFunctionAsync(n,r,(function(n,r,t){return en(t=f(t)),null!==t[0]&&null!==t[1]&&z(t[0],t[1])}))},u.functions.crosses=function(n,r){return u.standardFunctionAsync(n,r,(function(n,r,t){return en(t=f(t)),null!==t[0]&&null!==t[1]&&F(t[0],t[1])}))},u.functions.within=function(n,r){return u.standardFunctionAsync(n,r,(function(n,r,t){return en(t=f(t)),null!==t[0]&&null!==t[1]&&P(t[0],t[1])}))},u.functions.contains=function(n,r){return u.standardFunctionAsync(n,r,(function(n,r,t){return en(t=f(t)),null!==t[0]&&null!==t[1]&&Z(t[0],t[1])}))},u.functions.overlaps=function(n,r){return u.standardFunctionAsync(n,r,(function(n,r,t){return en(t=f(t)),null!==t[0]&&null!==t[1]&&y(t[0],t[1])}))},u.functions.equals=function(r,t){return u.standardFunctionAsync(r,t,(function(r,t,e){return c(e,2,2),e[0]===e[1]||(e[0]instanceof n&&e[1]instanceof n?C(e[0],e[1]):!(!a(e[0])||!a(e[1]))&&e[0].getTime()===e[1].getTime())}))},u.functions.relate=function(r,t){return u.standardFunctionAsync(r,t,(function(r,t,e){if(e=f(e),c(e,3,3),e[0]instanceof n&&e[1]instanceof n)return G(e[0],e[1],s(e[2]));if(e[0]instanceof n&&null===e[1])return!1;if(e[1]instanceof n&&null===e[0])return!1;if(null===e[0]&&null===e[1])return!1;throw new Error("Illegal Argument")}))},u.functions.intersection=function(n,r){return u.standardFunctionAsync(n,r,(function(n,r,t){return en(t=f(t)),null===t[0]||null===t[1]?null:H(t[0],t[1])}))},u.functions.union=function(r,t){return u.standardFunctionAsync(r,t,(function(t,e,l){const u=[];if(0===(l=f(l)).length)throw new Error("Function called with wrong number of Parameters");if(1===l.length)if(w(l[0])){const r=f(l[0]);for(let t=0;t<r.length;t++)if(null!==r[t]){if(!(r[t]instanceof n))throw new Error("Illegal Argument");u.push(r[t])}}else{if(!g(l[0])){if(l[0]instanceof n)return m(h(l[0]),r.spatialReference);if(null===l[0])return null;throw new Error("Illegal Argument")}{const r=f(l[0].toArray());for(let t=0;t<r.length;t++)if(null!==r[t]){if(!(r[t]instanceof n))throw new Error("Illegal Argument");u.push(r[t])}}}else for(let r=0;r<l.length;r++)if(null!==l[r]){if(!(l[r]instanceof n))throw new Error("Illegal Argument");u.push(l[r])}return 0===u.length?null:J(u)}))},u.functions.difference=function(n,r){return u.standardFunctionAsync(n,r,(function(n,r,t){return en(t=f(t)),null!==t[0]&&null===t[1]?h(t[0]):null===t[0]?null:Q(t[0],t[1])}))},u.functions.symmetricdifference=function(n,r){return u.standardFunctionAsync(n,r,(function(n,r,t){return en(t=f(t)),null===t[0]&&null===t[1]?null:null===t[0]?h(t[1]):null===t[1]?h(t[0]):U(t[0],t[1])}))},u.functions.clip=function(t,e){return u.standardFunctionAsync(t,e,(function(t,e,l){if(l=f(l),c(l,2,2),!(l[1]instanceof r)&&null!==l[1])throw new Error("Illegal Argument");if(null===l[0])return null;if(!(l[0]instanceof n))throw new Error("Illegal Argument");return null===l[1]?null:V(l[0],l[1])}))},u.functions.cut=function(r,e){return u.standardFunctionAsync(r,e,(function(r,e,l){if(l=f(l),c(l,2,2),!(l[1]instanceof t)&&null!==l[1])throw new Error("Illegal Argument");if(null===l[0])return[];if(!(l[0]instanceof n))throw new Error("Illegal Argument");return null===l[1]?[h(l[0])]:W(l[0],l[1])}))},u.functions.area=function(r,t){return u.standardFunctionAsync(r,t,(function(t,e,l){if(c(l,1,2),null===(l=f(l))[0])return 0;if(E(l[0]))return l[0].sumArea(A(O(l[1],-1)),!1,r.abortSignal).then((n=>{if(r.abortSignal.aborted)throw new Error("Operation has been cancelled.");return n}));if(w(l[0])||g(l[0])){const n=I(l[0],r.spatialReference);return null===n?0:Y(n,A(O(l[1],-1)))}if(!(l[0]instanceof n))throw new Error("Illegal Argument");return Y(l[0],A(O(l[1],-1)))}))},u.functions.areageodetic=function(r,t){return u.standardFunctionAsync(r,t,(function(t,e,l){if(c(l,1,2),null===(l=f(l))[0])return 0;if(E(l[0]))return l[0].sumArea(A(O(l[1],-1)),!0,r.abortSignal).then((n=>{if(r.abortSignal.aborted)throw new Error("Operation has been cancelled.");return n}));if(w(l[0])||g(l[0])){const n=I(l[0],r.spatialReference);return null===n?0:$(n,A(O(l[1],-1)))}if(!(l[0]instanceof n))throw new Error("Illegal Argument");return $(l[0],A(O(l[1],-1)))}))},u.functions.length=function(r,t){return u.standardFunctionAsync(r,t,(function(t,e,l){if(c(l,1,2),null===(l=f(l))[0])return 0;if(E(l[0]))return l[0].sumLength(p(O(l[1],-1)),!1,r.abortSignal).then((n=>{if(r.abortSignal.aborted)throw new Error("Operation has been cancelled.");return n}));if(w(l[0])||g(l[0])){const n=N(l[0],r.spatialReference);return null===n?0:q(n,p(O(l[1],-1)))}if(!(l[0]instanceof n))throw new Error("Illegal Argument");return q(l[0],p(O(l[1],-1)))}))},u.functions.lengthgeodetic=function(r,t){return u.standardFunctionAsync(r,t,(function(t,e,l){if(c(l,1,2),null===(l=f(l))[0])return 0;if(E(l[0]))return l[0].sumLength(p(O(l[1],-1)),!0,r.abortSignal).then((n=>{if(r.abortSignal.aborted)throw new Error("Operation has been cancelled.");return n}));if(w(l[0])||g(l[0])){const n=N(l[0],r.spatialReference);return null===n?0:v(n,p(O(l[1],-1)))}if(!(l[0]instanceof n))throw new Error("Illegal Argument");return v(l[0],p(O(l[1],-1)))}))},u.functions.distance=function(r,t){return u.standardFunctionAsync(r,t,(function(t,e,l){l=f(l),c(l,2,3);let u=l[0];(w(l[0])||g(l[0]))&&(u=j(l[0],r.spatialReference));let o=l[1];if((w(l[1])||g(l[1]))&&(o=j(l[1],r.spatialReference)),!(u instanceof n))throw new Error("Illegal Argument");if(!(o instanceof n))throw new Error("Illegal Argument");return B(u,o,p(O(l[2],-1)))}))},u.functions.distancegeodetic=function(n,r){return u.standardFunctionAsync(n,r,(function(n,r,l){l=f(l),c(l,2,3);const u=l[0],o=l[1];if(!(u instanceof e))throw new Error("Illegal Argument");if(!(o instanceof e))throw new Error("Illegal Argument");const i=new t({paths:[],spatialReference:u.spatialReference});return i.addPath([u,o]),v(i,p(O(l[2],-1)))}))},u.functions.densify=function(e,o){return u.standardFunctionAsync(e,o,(function(e,u,o){if(o=f(o),c(o,2,3),null===o[0])return null;if(!(o[0]instanceof n))throw new Error("Illegal Argument");const i=d(o[1]);if(isNaN(i))throw new Error("Illegal Argument");if(i<=0)throw new Error("Illegal Argument");return o[0]instanceof l||o[0]instanceof t?D(o[0],i,p(O(o[2],-1))):o[0]instanceof r?D(tn(o[0]),i,p(O(o[2],-1))):o[0]}))},u.functions.densifygeodetic=function(e,o){return u.standardFunctionAsync(e,o,(function(e,u,o){if(o=f(o),c(o,2,3),null===o[0])return null;if(!(o[0]instanceof n))throw new Error("Illegal Argument");const i=d(o[1]);if(isNaN(i))throw new Error("Illegal Argument");if(i<=0)throw new Error("Illegal Argument");return o[0]instanceof l||o[0]instanceof t?K(o[0],i,p(O(o[2],-1))):o[0]instanceof r?K(tn(o[0]),i,p(O(o[2],-1))):o[0]}))},u.functions.generalize=function(r,t){return u.standardFunctionAsync(r,t,(function(r,t,e){if(e=f(e),c(e,2,4),null===e[0])return null;if(!(e[0]instanceof n))throw new Error("Illegal Argument");const l=d(e[1]);if(isNaN(l))throw new Error("Illegal Argument");return L(e[0],l,b(O(e[2],!0)),p(O(e[3],-1)))}))},u.functions.buffer=function(r,t){return u.standardFunctionAsync(r,t,(function(r,t,e){if(e=f(e),c(e,2,3),null===e[0])return null;if(!(e[0]instanceof n))throw new Error("Illegal Argument");const l=d(e[1]);if(isNaN(l))throw new Error("Illegal Argument");return 0===l?h(e[0]):S(e[0],l,p(O(e[2],-1)))}))},u.functions.buffergeodetic=function(r,t){return u.standardFunctionAsync(r,t,(function(r,t,e){if(e=f(e),c(e,2,3),null===e[0])return null;if(!(e[0]instanceof n))throw new Error("Illegal Argument");const l=d(e[1]);if(isNaN(l))throw new Error("Illegal Argument");return 0===l?h(e[0]):T(e[0],l,p(O(e[2],-1)))}))},u.functions.offset=function(n,r){return u.standardFunctionAsync(n,r,(function(n,r,e){if(e=f(e),c(e,2,6),null===e[0])return null;if(!(e[0]instanceof l||e[0]instanceof t))throw new Error("Illegal Argument");const u=d(e[1]);if(isNaN(u))throw new Error("Illegal Argument");const o=d(O(e[4],10));if(isNaN(o))throw new Error("Illegal Argument");const i=d(O(e[5],0));if(isNaN(i))throw new Error("Illegal Argument");return X(e[0],u,p(O(e[2],-1)),s(O(e[3],"round")).toLowerCase(),o,i)}))},u.functions.rotate=function(t,o){return u.standardFunctionAsync(t,o,(function(t,u,o){o=f(o),c(o,2,3);let i=o[0];if(null===i)return null;if(!(i instanceof n))throw new Error("Illegal Argument");i instanceof r&&(i=l.fromExtent(i));const a=d(o[1]);if(isNaN(a))throw new Error("Illegal Argument");const s=O(o[2],null);if(null===s)return _(i,a);if(s instanceof e)return _(i,a,s);throw new Error("Illegal Argument")}))},u.functions.centroid=function(i,a){return u.standardFunctionAsync(i,a,(function(u,a,s){if(s=f(s),c(s,1,1),null===s[0])return null;let E=s[0];if((w(s[0])||g(s[0]))&&(E=j(s[0],i.spatialReference)),null===E)return null;if(!(E instanceof n))throw new Error("Illegal Argument");return E instanceof e?m(h(s[0]),i.spatialReference):E instanceof l?E.centroid:E instanceof t?R(E):E instanceof o?M(E):E instanceof r?E.center:null}))},u.functions.multiparttosinglepart=function(a,s){return u.standardFunctionAsync(a,s,(function(u,s,w){w=f(w),c(w,1,1);const g=[];if(null===w[0])return null;if(!(w[0]instanceof n))throw new Error("Illegal Argument");return w[0]instanceof e||w[0]instanceof r?[m(h(w[0]),a.spatialReference)]:nn(w[0]).then((n=>{if(n instanceof l){const r=[],t=[];for(let e=0;e<n.rings.length;e++)if(n.isClockwise(n.rings[e])){const t=i({rings:[n.rings[e]],hasZ:!0===n.hasZ,hazM:!0===n.hasM,spatialReference:n.spatialReference.toJSON()});r.push(t)}else t.push({ring:n.rings[e],pt:n.getPoint(e,0)});for(let n=0;n<t.length;n++)for(let e=0;e<r.length;e++)if(r[e].contains(t[n].pt)){r[e].addRing(t[n].ring);break}return r}if(n instanceof t){const r=[];for(let t=0;t<n.paths.length;t++){const e=i({paths:[n.paths[t]],hasZ:!0===n.hasZ,hazM:!0===n.hasM,spatialReference:n.spatialReference.toJSON()});r.push(e)}return r}if(w[0]instanceof o){const n=m(h(w[0]),a.spatialReference);for(let r=0;r<n.points.length;r++)g.push(n.getPoint(r));return g}return null}))}))},u.functions.issimple=function(r,t){return u.standardFunctionAsync(r,t,(function(r,t,e){if(e=f(e),c(e,1,1),null===e[0])return!0;if(!(e[0]instanceof n))throw new Error("Illegal Argument");return rn(e[0])}))},u.functions.simplify=function(r,t){return u.standardFunctionAsync(r,t,(function(r,t,e){if(e=f(e),c(e,1,1),null===e[0])return null;if(!(e[0]instanceof n))throw new Error("Illegal Argument");return nn(e[0])}))})}export{ln as registerFunctions}