import{p as t}from"./p-dc4230e0.js";import{a as r}from"./p-ebb65ba7.js";import{Q as e}from"./p-78c83631.js";import{t as s}from"./p-43d5e67f.js";let i=0;class n{constructor(t){this.type="FeatureSetReader",this.seen=!1,this.instance=0,this._tx=0,this._ty=0,this._xmin=-1,this._xmax=0,this._ymin=0,this._ymax=0,this._joined=[],this.instance=t}static createInstance(){return i++,i=i>65535?0:i,i}get _hasFilter(){return-1!==this._xmin}getQuantizationTransform(){throw new Error("Unable to find transform for featureSet")}getStorage(){return this._storage}getComputedNumeric(t){return this.getComputedNumericAtIndex(0)}setComputedNumeric(t,r){return this.setComputedNumericAtIndex(r,0)}getComputedString(t){return this.getComputedStringAtIndex(0)}setComputedString(t,r){return this.setComputedStringAtIndex(0,r)}getComputedNumericAtIndex(t){return this._storage.getComputedNumericAtIndex(this.getDisplayId(),t)}setComputedNumericAtIndex(t,r){this._storage.setComputedNumericAtIndex(this.getDisplayId(),t,r)}getComputedStringAtIndex(t){return this._storage.getComputedStringAtIndex(this.getDisplayId(),t)}setComputedStringAtIndex(t,r){return this._storage.setComputedStringAtIndex(this.getDisplayId(),t,r)}transform(t,r){const e=this.copy();return e._tx=t,e._ty=r,e}extent(t,r,e,s){const i=this.copy();return i._xmin=t,i._xmax=e,i._ymin=r,i._ymax=s,i}hasFilter(){return this._hasFilter}readAttribute(t,r=!1){const e=this._readAttribute(t,r);if(void 0!==e)return e;for(const e of this._joined){e.setIndex(this.getIndex());const s=e._readAttribute(t,r);if(void 0!==s)return s}}readAttributes(){return this._readAttributes()}joinAttributes(t){this._joined.push(t)}readArcadeFeature(){return this}geometry(){const r=this.readHydratedGeometry(),s=e(r,this.geometryType,this.hasZ,this.hasM),i=t(s);return i.spatialReference=this._arcadeSpatialReference,i}field(t){return this.readAttribute(t,!0)}hasField(t){return!0}setField(t,r){}keys(){return[]}castToText(){return""}_computeCentroid(){if("esriGeometryPolygon"!==this.geometryType)return null;const t=this.readUnquantizedGeometry();if(!t||t.hasIndeterminateRingOrder)return null;const e=this.getQuantizationTransform();return s(new r,t,this.hasM,this.hasZ,e)}copyInto(t){t.seen=this.seen,t._storage=this._storage,t._arcadeSpatialReference=this._arcadeSpatialReference,t._joined=this._joined,t._tx=this._tx,t._ty=this._ty,t._xmin=this._xmin,t._xmax=this._xmax,t._ymin=this._ymin,t._ymax=this._ymax}}export{n}