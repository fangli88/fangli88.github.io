import{l as e,D as t,E as s,Y as i,aU as r,K as n,L as o,cl as l,cm as a,cn as u,co as d,s as h,bj as c,cp as p,J as y,cq as b,cr as v,i as w,cs as m,c3 as g,bz as f,m as S,c8 as j}from"./p-dc4230e0.js";import{r as x,$ as N,C as q}from"./p-0038f454.js";var R;const H=e.getLogger("esri.renderers.support.AttributeColorInfo");let D=R=class extends o{constructor(e){super(e),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(e){return null==e?e:"function"==typeof e?(H.error(".field: field must be a string value"),null):l(e)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new R({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};t([s({type:i,json:{type:[Number],write:!0}})],D.prototype,"color",void 0),t([s({type:String,json:{write:!0}})],D.prototype,"field",void 0),t([r("field")],D.prototype,"castField",null),t([s({type:String,json:{write:!0}})],D.prototype,"label",void 0),t([s({type:String,json:{write:!0}})],D.prototype,"valueExpression",void 0),t([s({type:String,json:{write:!0}})],D.prototype,"valueExpressionTitle",void 0),D=R=t([n("esri.renderers.support.AttributeColorInfo")],D);var O,V=D;let A=O=class extends o{constructor(){super(...arguments),this.unit=null}clone(){return new O({unit:this.unit})}};t([s({type:String,json:{write:!0}})],A.prototype,"unit",void 0),A=O=t([n("esri.renderers.support.DotDensityLegendOptions")],A);var C,E=A;let I=C=class extends(a(b)){constructor(e){super(e),this.attributes=null,this.backgroundColor=new i([0,0,0,0]),this.blendDots=!0,this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new u,this.dotValue=null,this.referenceDotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(e){if(null==this.referenceScale)return this.dotValue;const t=e/this.referenceScale*this.dotValue;return t<1?1:t}getSymbol(){return new d({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes&&this.attributes.reduce(((e,t)=>e+t.getAttributeHash()),"")}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new C({attributes:h(this.attributes),backgroundColor:h(this.backgroundColor),dotBlendingEnabled:h(this.dotBlendingEnabled),dotShape:h(this.dotShape),dotSize:h(this.dotSize),dotValue:h(this.dotValue),legendOptions:h(this.legendOptions),outline:h(this.outline),referenceScale:h(this.referenceScale),visualVariables:h(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}getControllerHash(){return`${this.attributes.map((e=>e.field||e.valueExpression||""))}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const s of this.attributes)s.valueExpression&&await c(e,t,s.valueExpression),s.field&&e.add(s.field)}};t([s({type:[V],json:{write:!0}})],I.prototype,"attributes",void 0),t([s({type:i,json:{write:!0}})],I.prototype,"backgroundColor",void 0),t([s({type:Boolean}),p("dotBlendingEnabled")],I.prototype,"blendDots",void 0),t([s({type:Boolean,json:{write:!0}})],I.prototype,"dotBlendingEnabled",void 0),t([s({type:String,json:{write:!1}})],I.prototype,"dotShape",void 0),t([s({type:Number,json:{write:!1}})],I.prototype,"dotSize",void 0),t([s({type:E,json:{write:!0}})],I.prototype,"legendOptions",void 0),t([s({type:u,json:{default:null,write:!0}})],I.prototype,"outline",void 0),t([s({type:Number,json:{write:!0}})],I.prototype,"dotValue",void 0),t([s({type:Number}),p("dotValue")],I.prototype,"referenceDotValue",void 0),t([s({type:Number,json:{write:!0}})],I.prototype,"referenceScale",void 0),t([s({type:Number,json:{write:!0}})],I.prototype,"seed",void 0),t([y({dotDensity:"dot-density"})],I.prototype,"type",void 0),I=C=t([n("esri.renderers.DotDensityRenderer")],I);var $,k=I;let F=$=class extends o{constructor(e){super(e),this.color=null,this.ratio=null}clone(){return new $({color:this.color,ratio:this.ratio})}};t([s({type:i,json:{write:!0}})],F.prototype,"color",void 0),t([s({type:Number,json:{write:!0}})],F.prototype,"ratio",void 0),F=$=t([n("esri.renderers.support.HeatmapColorStop")],F);var B,J=F;let M=B=class extends b{constructor(e){super(e),this.blurRadius=10,this.colorStops=[new J({ratio:0,color:new i("rgba(255, 140, 0, 0)")}),new J({ratio:.75,color:new i("rgba(255, 140, 0, 1)")}),new J({ratio:.9,color:new i("rgba(255, 0,   0, 1)")})],this.field=null,this.fieldOffset=0,this.maxPixelIntensity=100,this.minPixelIntensity=0,this.type="heatmap"}async collectRequiredFields(e,t){const s=this.field;s&&"string"==typeof s&&v(e,t,s)}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new B({blurRadius:this.blurRadius,colorStops:h(this.colorStops),field:this.field,maxPixelIntensity:this.maxPixelIntensity,minPixelIntensity:this.minPixelIntensity})}};t([s({type:Number,json:{write:!0}})],M.prototype,"blurRadius",void 0),t([s({type:[J],json:{write:!0}})],M.prototype,"colorStops",void 0),t([s({type:String,json:{write:!0}})],M.prototype,"field",void 0),t([s({type:Number,json:{write:{overridePolicy:(e,t,s)=>({enabled:null==s})}}})],M.prototype,"fieldOffset",void 0),t([s({type:Number,json:{write:!0}})],M.prototype,"maxPixelIntensity",void 0),t([s({type:Number,json:{write:!0}})],M.prototype,"minPixelIntensity",void 0),t([y({heatmap:"heatmap"})],M.prototype,"type",void 0),M=B=t([n("esri.renderers.HeatmapRenderer")],M);var P,z=M;let L=P=class extends(a(b)){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(e,t){await w([this.collectSymbolFields(e,t),this.collectVVRequiredFields(e,t)])}async collectSymbolFields(e,t){await w(this.getSymbols().map((s=>s.collectRequiredFields(e,t))))}getSymbol(e,t){return this.symbol}async getSymbolAsync(e,t){return this.symbol}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce(((e,t)=>e+t.getAttributeHash()),"")}getMeshHash(){return this.getSymbols().reduce(((e,t)=>e+JSON.stringify(t)),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new P({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:h(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}};t([s({type:String,json:{write:!0}})],L.prototype,"description",void 0),t([s({type:String,json:{write:!0}})],L.prototype,"label",void 0),t([s(x)],L.prototype,"symbol",void 0),t([y({simple:"simple"})],L.prototype,"type",void 0),L=P=t([n("esri.renderers.SimpleRenderer")],L);var T=L;const U={key:"type",base:b,typeMap:{heatmap:z,simple:T,"unique-value":N,"class-breaks":q,"dot-density":k,dictionary:m},errorContext:"renderer"},K={key:"type",base:b,typeMap:{simple:T,"unique-value":N,"class-breaks":q},errorContext:"renderer"};function Y(e,t,s,i){const r=function(e,t){return e?function(e,t){if(!t||"web-scene"!==t.origin)return!0;switch(e.type){case"simple":case"unique-value":case"class-breaks":return!0;case"heatmap":case"dictionary":case"dot-density":default:return!1}}(e,t)?e.write({},t):(t.messages&&t.messages.push(new S("renderer:unsupported",`Renderer of type '${e.declaredClass}' are not supported in scenes.`,{renderer:e,context:t})),null):null}(e,i);r&&j(s,r,t)}const G=g({types:U});function Q(e,t,s){return e?e&&(e.styleName||e.styleUrl)&&"uniqueValue"!==e.type?(s&&s.messages&&s.messages.push(new f("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:s})),null):G(e,t,s):null}export{Q as a,K as b,U as m,T as n,Y as o}