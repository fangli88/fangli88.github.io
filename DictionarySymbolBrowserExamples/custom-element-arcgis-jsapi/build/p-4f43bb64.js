import{k as n,h as t,aA as r,cy as u,t as e,bg as l,bd as o,w as i,z as s,x as c,f,u as a,m as h,i as d,aF as w,be as p,cz as M,cA as m,cB as g,cC as y,cD as A,cE as v,cF as P,cG as b,cH as k,cI as x,cJ as G,cK as j,cL as E,cM as I}from"./p-ab028778.js";import{n as T}from"./p-abda1e64.js";import"./p-a8e713de.js";import"./p-fb40af74.js";let C,F=null;function _(){return!!F}function N(){return C||(C=t(((n,t)=>{import("./p-c0e8ea64.js").then((function(n){return n.p})).then((({default:u})=>{u({locateFile:n=>r(`esri/geometry/support/${n}`),onAbort:n=>{t(new Error(n))}}).then((t=>{$(t),n()}))}))})),C)}var S,U,D;!function(n){function t(n,t,r){F.ensureCache.prepare();const u=W(r),e=r===u,l=F.ensureFloat64(u),o=F._pe_geog_to_proj(F.getPointer(n),t,l);return o&&X(r,t,l,e),o}function r(n,t,r){return u(n,t,r,0)}function u(n,t,r,u){F.ensureCache.prepare();const e=W(r),l=r===e,o=F.ensureFloat64(e),i=F._pe_proj_to_geog_center(F.getPointer(n),t,o,u);return i&&X(r,t,o,l),i}n.geogToProj=t,n.projGeog=function(n,u,e,l){switch(l){case U.PE_TRANSFORM_P_TO_G:return r(n,u,e);case U.PE_TRANSFORM_G_TO_P:return t(n,u,e)}return 0},n.projToGeog=r,n.projToGeogCenter=u}(S||(S={})),function(n){n.init=function(){n.PE_BUFFER_MAX=F.PeDefs.prototype.PE_BUFFER_MAX,n.PE_NAME_MAX=F.PeDefs.prototype.PE_NAME_MAX,n.PE_MGRS_MAX=F.PeDefs.prototype.PE_MGRS_MAX,n.PE_USNG_MAX=F.PeDefs.prototype.PE_USNG_MAX,n.PE_DD_MAX=F.PeDefs.prototype.PE_DD_MAX,n.PE_DDM_MAX=F.PeDefs.prototype.PE_DDM_MAX,n.PE_DMS_MAX=F.PeDefs.prototype.PE_DMS_MAX,n.PE_UTM_MAX=F.PeDefs.prototype.PE_UTM_MAX,n.PE_PARM_MAX=F.PeDefs.prototype.PE_PARM_MAX,n.PE_TYPE_NONE=F.PeDefs.prototype.PE_TYPE_NONE,n.PE_TYPE_GEOGCS=F.PeDefs.prototype.PE_TYPE_GEOGCS,n.PE_TYPE_PROJCS=F.PeDefs.prototype.PE_TYPE_PROJCS,n.PE_TYPE_GEOGTRAN=F.PeDefs.prototype.PE_TYPE_GEOGTRAN,n.PE_TYPE_COORDSYS=F.PeDefs.prototype.PE_TYPE_COORDSYS,n.PE_TYPE_UNIT=F.PeDefs.prototype.PE_TYPE_UNIT,n.PE_STR_OPTS_NONE=F.PeDefs.prototype.PE_STR_OPTS_NONE,n.PE_STR_AUTH_NONE=F.PeDefs.prototype.PE_STR_AUTH_NONE,n.PE_STR_AUTH_TOP=F.PeDefs.prototype.PE_STR_AUTH_TOP,n.PE_STR_NAME_CANON=F.PeDefs.prototype.PE_STR_NAME_CANON,n.PE_PARM_X0=F.PeDefs.prototype.PE_PARM_X0,n.PE_PARM_ND=F.PeDefs.prototype.PE_PARM_ND,n.PE_TRANSFORM_1_TO_2=F.PeDefs.prototype.PE_TRANSFORM_1_TO_2,n.PE_TRANSFORM_2_TO_1=F.PeDefs.prototype.PE_TRANSFORM_2_TO_1,n.PE_TRANSFORM_P_TO_G=F.PeDefs.prototype.PE_TRANSFORM_P_TO_G,n.PE_TRANSFORM_G_TO_P=F.PeDefs.prototype.PE_TRANSFORM_G_TO_P,n.PE_HORIZON_RECT=F.PeDefs.prototype.PE_HORIZON_RECT,n.PE_HORIZON_POLY=F.PeDefs.prototype.PE_HORIZON_POLY,n.PE_HORIZON_LINE=F.PeDefs.prototype.PE_HORIZON_LINE,n.PE_HORIZON_DELTA=F.PeDefs.prototype.PE_HORIZON_DELTA}}(U||(U={})),function(n){const t={},r={};function u(n,r){let u=null,l=t[n];if(l||(l={},t[n]=l),l.hasOwnProperty(String(r)))u=l[r];else{const t=F.PeFactory.prototype.factoryByType(n,r);F.compare(t,F.NULL)||(u=t,l[r]=u)}return u=e(u),u}function e(n){if(n){const t=n.getType();switch(t){case U.PE_TYPE_GEOGCS:n=F.castObject(n,F.PeGeogcs);break;case U.PE_TYPE_PROJCS:n=F.castObject(n,F.PeProjcs);break;case U.PE_TYPE_GEOGTRAN:n=F.castObject(n,F.PeGeogtran);break;default:t&U.PE_TYPE_UNIT&&(n=F.castObject(n,F.PeUnit))}}return n}n.initialize=function(){F.PeFactory.prototype.initialize(null)},n.coordsys=function(n){return u(U.PE_TYPE_COORDSYS,n)},n.factoryByType=u,n.fromString=function(n,t){let u=null,l=r[n];if(l||(l={},r[n]=l),l.hasOwnProperty(t))u=l[t];else{const r=F.PeFactory.prototype.fromString(n,t);F.compare(r,F.NULL)||(u=r,l[t]=u)}return u=e(u),u},n.geogcs=function(n){return u(U.PE_TYPE_GEOGCS,n)},n.geogtran=function(n){return u(U.PE_TYPE_GEOGTRAN,n)},n.getCode=function(n){return F.PeFactory.prototype.getCode(n)},n.projcs=function(n){return u(U.PE_TYPE_PROJCS,n)},n.unit=function(n){return u(U.PE_TYPE_UNIT,n)}}(D||(D={}));let R=null;var Z,z,L,K,O,B,H,J,V;function $(n){function t(n,t,r){n[t]=r(n[t])}F=n,U.init(),Z.init(),O.init(),H.init(),J.init(),R=class extends F.PeGCSExtent{destroy(){F.destroy(this)}};const r=[F.PeDatum,F.PeGeogcs,F.PeGeogtran,F.PeObject,F.PeParameter,F.PePrimem,F.PeProjcs,F.PeSpheroid,F.PeUnit];for(const n of r)t(n.prototype,"getName",(n=>function(){return n.call(this,new Array(U.PE_NAME_MAX))}));for(const n of[F.PeGeogtran,F.PeProjcs])t(n.prototype,"getParameters",(n=>function(){const t=new Array(U.PE_PARM_MAX);let r=n.call(this);for(let n=0;n<t.length;n++){const u=F.getValue(r,"*");t[n]=u?F.wrapPointer(u,F.PeParameter):null,r+=Int32Array.BYTES_PER_ELEMENT}return t}));t(F.PeHorizon.prototype,"getCoord",(n=>function(){const t=this.getSize();if(!t)return null;const r=[];return X(r,t,n.call(this)),r})),t(F.PeGTlistExtendedEntry.prototype,"getEntries",(n=>{const t=F._pe_getPeGTlistExtendedGTsSize();return function(){let r=null;const u=n.call(this);if(!F.compare(u,F.NULL)){r=[u];const n=this.getSteps();if(n>1){const e=F.getPointer(u);for(let u=1;u<n;u++)r.push(F.wrapPointer(e+t*u,F.PeGTlistExtendedGTs))}}return r}}));const u=F._pe_getPeHorizonSize(),e=n=>function(){let t=this._cache;if(t||(t=new Map,this._cache=t),t.has(n))return t.get(n);let r=null;const e=n.call(this);if(!F.compare(e,F.NULL)){r=[e];const n=e.getNump();if(n>1){const t=F.getPointer(e);for(let e=1;e<n;e++)r.push(F.wrapPointer(t+u*e,F.PeHorizon))}}return t.set(n,r),r};t(F.PeProjcs.prototype,"horizonGcsGenerate",e),t(F.PeProjcs.prototype,"horizonPcsGenerate",e),F.PeObject.prototype.toString=function(n=U.PE_STR_OPTS_NONE){F.ensureCache.prepare();const t=F.getPointer(this),r=F.ensureInt8(new Array(U.PE_BUFFER_MAX));return F.UTF8ToString(F._pe_object_to_string_ext(t,n,r))}}function q(n){if(!n)return;const t=F.getClass(n);if(!t)return;const r=F.getCache(t);if(!r)return;const u=F.getPointer(n);u&&delete r[u]}function Q(n,t){const r=[],u=new Array(t);for(let t=0;t<n;t++)r.push(F.ensureInt8(u));return r}function W(n){let t;return Array.isArray(n[0])?(t=[],n.forEach((n=>{t.push(n[0],n[1])}))):t=n,t}function X(n,t,r,u=!1){if(u)for(let u=0;u<2*t;u++)n[u]=F.getValue(r+u*Float64Array.BYTES_PER_ELEMENT,"double");else{const u=0===n.length;for(let e=0;e<t;e++)u&&(n[e]=new Array(2)),n[e][0]=F.getValue(r,"double"),n[e][1]=F.getValue(r+Float64Array.BYTES_PER_ELEMENT,"double"),r+=2*Float64Array.BYTES_PER_ELEMENT}}!function(n){let t;n.init=function(){n.PE_GTLIST_OPTS_COMMON=F.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=F._pe_getPeGTlistExtendedEntrySize()},n.getGTlist=function(n,r,u,e,l,o){let i=null;const s=new F.PeInteger(o);try{const c=F.PeGTlistExtended.prototype.getGTlist(n,r,u,e,l,s);if((o=s.val)&&(i=[c],o>1)){const n=F.getPointer(c);for(let r=1;r<o;r++)i.push(F.wrapPointer(n+t*r,F.PeGTlistExtendedEntry))}}finally{F.destroy(s)}return i}}(Z||(Z={})),(z||(z={})).destroy=function(n){if(n&&n.length){for(const t of n)q(t),t.getEntries().forEach((n=>{q(n);const t=n.getGeogtran();q(t),t.getParameters().forEach(q),[t.getGeogcs1(),t.getGeogcs2()].forEach((n=>{q(n);const t=n.getDatum();q(t),q(t.getSpheroid()),q(n.getPrimem()),q(n.getUnit())}))}));F.PeGTlistExtendedEntry.prototype.Delete(n[0])}},(L||(L={})).geogToGeog=function(n,t,r,u,e){F.ensureCache.prepare();const l=W(r),o=r===l,i=F.ensureFloat64(l);let s=0;u&&(s=F.ensureFloat64(u));const c=F._pe_geog_to_geog(F.getPointer(n),t,i,s,e);return c&&X(r,t,i,o),c},function(n){function t(n,t,r,u,e,l){let o,i;switch(F.ensureCache.prepare(),n){case"dd":o=F._pe_geog_to_dd,i=U.PE_DD_MAX;break;case"ddm":o=F._pe_geog_to_ddm,i=U.PE_DDM_MAX;break;case"dms":o=F._pe_geog_to_dms,i=U.PE_DMS_MAX}let s=0;t&&(s=F.getPointer(t));const c=W(u),f=F.ensureFloat64(c),a=Q(r,i),h=o(s,r,f,e,F.ensureInt32(a));if(h)for(let n=0;n<r;n++)l[n]=F.UTF8ToString(a[n]);return h}function r(n,t,r,u,e){let l;switch(F.ensureCache.prepare(),n){case"dd":l=F._pe_dd_to_geog;break;case"ddm":l=F._pe_ddm_to_geog;break;case"dms":l=F._pe_dms_to_geog}let o=0;t&&(o=F.getPointer(t));const i=u.map((n=>F.ensureString(n))),s=F.ensureInt32(i),c=F.ensureFloat64(new Array(2*r)),f=l(o,r,s,c);return f&&X(e,r,c),f}n.geog_to_dms=function(n,r,u,e,l){return t("dms",n,r,u,e,l)},n.dms_to_geog=function(n,t,u,e){return r("dms",n,t,u,e)},n.geog_to_ddm=function(n,r,u,e,l){return t("ddm",n,r,u,e,l)},n.ddm_to_geog=function(n,t,u,e){return r("ddm",n,t,u,e)},n.geog_to_dd=function(n,r,u,e,l){return t("dd",n,r,u,e,l)},n.dd_to_geog=function(n,t,u,e){return r("dd",n,t,u,e)}}(K||(K={})),function(n){n.init=function(){n.PE_MGRS_STYLE_NEW=F.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,n.PE_MGRS_STYLE_OLD=F.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,n.PE_MGRS_STYLE_AUTO=F.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,n.PE_MGRS_180_ZONE_1_PLUS=F.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,n.PE_MGRS_ADD_SPACES=F.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES},n.geog_to_mgrs_extended=function(n,t,r,u,e,l,o){F.ensureCache.prepare();let i=0;n&&(i=F.getPointer(n));const s=W(r),c=F.ensureFloat64(s),f=Q(t,U.PE_MGRS_MAX),a=F.ensureInt32(f),h=F._pe_geog_to_mgrs_extended(i,t,c,u,e,l,a);if(h)for(let n=0;n<t;n++)o[n]=F.UTF8ToString(f[n]);return h},n.mgrs_to_geog_extended=function(n,t,r,u,e){F.ensureCache.prepare();let l=0;n&&(l=F.getPointer(n));const o=r.map((n=>F.ensureString(n))),i=F.ensureInt32(o),s=F.ensureFloat64(new Array(2*t)),c=F._pe_mgrs_to_geog_extended(l,t,i,u,s);return c&&X(e,t,s),c}}(O||(O={})),function(n){n.geog_to_usng=function(n,t,r,u,e,l,o){F.ensureCache.prepare();let i=0;n&&(i=F.getPointer(n));const s=W(r),c=F.ensureFloat64(s),f=Q(t,U.PE_MGRS_MAX),a=F.ensureInt32(f),h=F._pe_geog_to_usng(i,t,c,u,e,l,a);if(h)for(let n=0;n<t;n++)o[n]=F.UTF8ToString(f[n]);return h},n.usng_to_geog=function(n,t,r,u){F.ensureCache.prepare();let e=0;n&&(e=F.getPointer(n));const l=r.map((n=>F.ensureString(n))),o=F.ensureInt32(l),i=F.ensureFloat64(new Array(2*t)),s=F._pe_usng_to_geog(e,t,o,i);return s&&X(u,t,i),s}}(B||(B={})),function(n){n.init=function(){n.PE_UTM_OPTS_NONE=F.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,n.PE_UTM_OPTS_ADD_SPACES=F.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,n.PE_UTM_OPTS_NS=F.PeNotationUtm.prototype.PE_UTM_OPTS_NS},n.geog_to_utm=function(n,t,r,u,e){F.ensureCache.prepare();let l=0;n&&(l=F.getPointer(n));const o=W(r),i=F.ensureFloat64(o),s=Q(t,U.PE_UTM_MAX),c=F.ensureInt32(s),f=F._pe_geog_to_utm(l,t,i,u,c);if(f)for(let n=0;n<t;n++)e[n]=F.UTF8ToString(s[n]);return f},n.utm_to_geog=function(n,t,r,u,e){F.ensureCache.prepare();let l=0;n&&(l=F.getPointer(n));const o=r.map((n=>F.ensureString(n))),i=F.ensureInt32(o),s=F.ensureFloat64(new Array(2*t)),c=F._pe_utm_to_geog(l,t,i,u,s);return c&&X(e,t,s),c}}(H||(H={})),function(n){const t=new Map;n.init=function(){n.PE_PCSINFO_OPTION_NONE=F.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,n.PE_PCSINFO_OPTION_DOMAIN=F.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,n.PE_POLE_OUTSIDE_BOUNDARY=F.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,n.PE_POLE_POINT=F.PePCSInfo.prototype.PE_POLE_POINT},n.generate=function(r,u=n.PE_PCSINFO_OPTION_DOMAIN){let e,l;return t.has(r)&&(l=t.get(r),l[u]&&(e=l[u])),e||(e=F.PePCSInfo.prototype.generate(r,u),l||(l=[],t.set(r,l)),l[u]=e),e}}(J||(J={})),(V||(V={})).version_string=function(){return F.PeVersion.prototype.version_string()};var Y=Object.freeze({__proto__:null,get _pe(){return F},isLoaded:_,isSupported:function(){return!!n("esri-wasm")},load:N,get PeCSTransformations(){return S},get PeDefs(){return U},get PeFactory(){return D},get PeGCSExtent(){return R},get PeGTlistExtended(){return Z},get PeGTlistExtendedEntry(){return z},get PeGTTransformations(){return L},get PeNotationDms(){return K},get PeNotationMgrs(){return O},get PeNotationUsng(){return B},get PeNotationUtm(){return H},get PePCSInfo(){return J},get PeVersion(){return V},_init:$});const nn=u.radius,tn=u.eccentricitySquared,rn={a1:nn*tn,a2:nn*tn*nn*tn,a3:nn*tn*tn/2,a4:nn*tn*nn*tn*2.5,a5:nn*tn+nn*tn*tn/2,a6:1-tn};let un=0;class en{constructor(n=null){this.uid=un++,n?(this._wkt=void 0!==n.wkt?n.wkt:null,this._wkid=void 0!==n.wkid?n.wkid:-1,this._isInverse=void 0!==n.isInverse&&!0===n.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}static fromGE(n){const t=new en;return t._wkt=n.wkt,t._wkid=n.wkid,t._isInverse=n.isInverse,t}get wkt(){return this._wkt}set wkt(n){this._wkt=n,this.uid=un++}get wkid(){return this._wkid}set wkid(n){this._wkid=n,this.uid=un++}get isInverse(){return this._isInverse}set isInverse(n){this._isInverse=n,this.uid=un++}getInverse(){const n=new en;return n._wkt=this.wkt,n._wkid=this._wkid,n._isInverse=!this.isInverse,n}}class ln{constructor(n){if(this.steps=[],this._cached_projection={},this._chain="",this._gtlistentry=null,n&&n.steps)for(const t of n.steps)this.steps.push(t instanceof en?t:new en({wkid:t.wkid,wkt:t.wkt,isInverse:t.isInverse}))}static cacheKey(n,t){return[null!=n.wkid?n.wkid.toString():"-1",null!=n.wkt?n.wkt.toString():"",null!=t.wkid?t.wkid.toString():"-1",null!=t.wkt?t.wkt.toString():""].join(",")}static fromGE(n){const t=new ln;let r="";for(const u of n.steps){const n=en.fromGE(u);t.steps.push(n),r+=n.uid.toString()+","}return t._cached_projection={},t._gtlistentry=null,t._chain=r,t}getInverse(){const n=new ln;n.steps=[];for(let t=this.steps.length-1;t>=0;t--)n.steps.push(this.steps[t].getInverse());return n}getGTListEntry(){let n="";for(const t of this.steps)n+=t.uid.toString()+",";return n!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=n),this._gtlistentry}assignCachedGe(n,t,r){this._cached_projection[ln.cacheKey(n,t)]=r}getCachedGeTransformation(n,t){let r="";for(const n of this.steps)r+=n.uid.toString()+",";r!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=r);const u=this._cached_projection[ln.cacheKey(n,t)];return void 0===u?null:u}}let on=null,sn=null,cn=null,fn={};function an(){return!!on&&_()}function hn(){return!0}function dn(n){return e(cn)&&(cn=d([N(),import("./p-a1c96c01.js").then((function(n){return n.g})),import("./p-f5400790.js")])),cn.then((([,t,{hydratedAdapter:r}])=>{w(n),sn=r,on=t.default,on._enableProjection(Y)}))}function wn(n,t,r=null){return Array.isArray(n)?0===n.length?[]:pn(sn,n,n[0].spatialReference,t,r):pn(sn,[n],n.spatialReference,t,r)[0]}function pn(n,t,r,u,l=null){if(e(r)||e(u))return t;if(mn(r,u,l))return t.map((n=>function(n,t,r){if(!n)return n;if("x"in n){const u=new i;return function(n,t,r,u,e=0){Kn[0]=n.x,Kn[1]=n.y;const l=n.z;return Kn[2]=void 0!==l?l:e,!!Pn(Kn,t,0,Kn,u,0,1)&&(r.x=Kn[0],r.y=Kn[1],r.spatialReference=u,void 0===l?(r.z=void 0,r.hasZ=!1):(r.z=Kn[2],r.hasZ=!0),void 0===n.m?(r.m=void 0,r.hasM=!1):(r.m=n.m,r.hasM=!0),!0)}(n,t,u,r)?u:null}if("xmin"in n){const u=new s;return function(n,t,r,u,e=0){const{xmin:l,ymin:o,xmax:i,ymax:s,hasZ:c,hasM:f}=n;return!!vn(l,o,c?n.zmin:e,t,Kn,u)&&(r.xmin=Kn[0],r.ymin=Kn[1],c&&(r.zmin=Kn[2]),!!vn(i,s,c?n.zmax:e,t,Kn,u)&&(r.xmax=Kn[0],r.ymax=Kn[1],c&&(r.zmax=Kn[2]),f&&(r.mmin=n.mmin,r.mmax=n.mmax),r.spatialReference=u,!0))}(n,t,u,r)?u:null}if("rings"in n){const u=new c;return An(n,t,u,r)?u:null}if("paths"in n){const u=new f;return function(n,t,r,u,e=0){const{paths:l,hasZ:o,hasM:i}=n,s=[];return!!bn(l,o,i,t,s,u,e)&&(r.paths=s,r.spatialReference=u,r.hasZ=o,r.hasM=i,!0)}(n,t,u,r)?u:null}if("points"in n){const u=new a;return function(n,t,r,u,e=0){const{points:l,hasZ:o,hasM:i}=n,s=[],c=l.length,f=[];for(const n of l)f.push(n[0],n[1],o?n[2]:e);if(!Pn(f,t,0,f,u,0,c))return!1;for(let n=0;n<c;++n){const t=3*n,r=f[t],u=f[t+1];s.push(o&&i?[r,u,f[t+2],l[n][3]]:o?[r,u,f[t+2]]:i?[r,u,l[n][2]]:[r,u])}return r.points=s,r.spatialReference=u,r.hasZ=o,r.hasM=i,!0}(n,t,u,r)?u:null}return null}(n,r,u)));if(e(l)){const n=ln.cacheKey(r,u);void 0!==fn[n]?l=fn[n]:(l=function(n,t,r=null){if(e(on))throw new Mn;if(e(n)||e(t))return null;const u=on._getTransformation(sn,n,t,r,null==r?void 0:r.spatialReference);return null!==u?ln.fromGE(u):null}(r,u,null),e(l)&&(l=new ln),fn[n]=l)}if(e(on))throw new Mn;return on._project(n,t,r,u,l)}class Mn extends h{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}function mn(n,t,r){return!r&&(!!l(n,t)||o(n)&&o(t)&&!!Un(n,t,Rn))}async function gn(n,t){if(!an())for(const{source:r,dest:u,geographicTransformation:e}of n)if(!mn(r,u,e))return dn(t)}function yn(n,t,r=t.spatialReference,u=0){return!e(r)&&An(n,n.spatialReference,t,r,u)}function An(n,t,r,u,e=0){const{rings:l,hasZ:o,hasM:i}=n,s=[];return!!bn(l,o,i,t,s,u,e)&&(r.rings=s,r.spatialReference=u,r.hasZ=o,r.hasM=i,!0)}function vn(n,t,r,u,e,l){return Ln[0]=n,Ln[1]=t,Ln[2]=r,Pn(Ln,u,0,e,l,0,1)}function Pn(n,t,r,u,l,o,i=1){const s=Un(t,l,Rn);if(e(s))return!1;if(s===Gn){if(n===u&&r===o)return!0;const t=r+3*i;for(let e=r,l=o;e<t;e++,l++)u[l]=n[e];return!0}const c=r+3*i;for(let t=r,e=o;t<c;t+=3,e+=3)s(n,t,u,e);return!0}function bn(n,t,r,u,e,l,o=0){const i=new Array;for(const r of n)for(const n of r)i.push(n[0],n[1],t?n[2]:o);if(!Pn(i,u,0,i,l,0,i.length/3))return!1;let s=0;e.length=0;for(const u of n){const n=new Array;for(const e of u)t&&r?n.push([i[s++],i[s++],i[s++],e[3]]):t?n.push([i[s++],i[s++],i[s++]]):r?(n.push([i[s++],i[s++],e[2]]),s++):(n.push([i[s++],i[s++]]),s++);e.push(n)}return!0}var kn;function xn(n,t){return t.spatialReference===n?t.spatialReferenceId:(t.spatialReference=n,"metersPerUnit"in t&&(t.metersPerUnit=p(n,1)),t.spatialReferenceId=n.wkt===M.wkt?1:m(n)?2:g(n)?3:n.wkt===y.wkt?4:4490===n.wkid?5:n.wkt===A.wkt?7:n.wkt===v.wkt?9:P(n)?8:b(n)?10:0)}function Gn(n,t,r,u){n!==r&&(r[u++]=n[t++],r[u++]=n[t++],r[u]=n[t])}function jn(n,t,r,e){r[e++]=zn*(n[t++]/u.radius),r[e++]=zn*(Math.PI/2-2*Math.atan(Math.exp(-1*n[t++]/u.radius))),r[e]=n[t]}function En(n,t,r,e){const l=.4999999*Math.PI,o=E(Zn*n[t+1],-l,l),i=Math.sin(o);r[e++]=Zn*n[t]*u.radius,r[e++]=u.halfSemiMajorAxis*Math.log((1+i)/(1-i)),r[e]=n[t+2]}function In(n,t,r,u,e){const l=e+n[t+2],o=Zn*n[t+1],i=Zn*n[t],s=Math.cos(o);r[u++]=Math.cos(i)*s*l,r[u++]=Math.sin(i)*s*l,r[u]=Math.sin(o)*l}function Tn(n,t,r,e){In(n,t,r,e,u.radius)}function Cn(n,t,r,u,e){const l=n[t],o=n[t+1],i=n[t+2],s=Math.sqrt(l*l+o*o+i*i),c=I(i/(0===s?1:s)),f=Math.atan2(o,l);r[u++]=zn*f,r[u++]=zn*c,r[u]=s-e}function Fn(n,t,r,e){Cn(n,t,r,e,u.radius)}function _n(n,t,r,e){!function(n,t,r,u,e){const l=Zn*n[t],o=Zn*n[t+1],i=n[t+2],s=Math.sin(o),c=Math.cos(o),f=e.radius/Math.sqrt(1-e.eccentricitySquared*s*s);r[u++]=(f+i)*c*Math.cos(l),r[u++]=(f+i)*c*Math.sin(l),r[u++]=(f*(1-e.eccentricitySquared)+i)*s}(n,t,r,e,u)}function Nn(n,t,r,e){const l=rn,o=n[t],i=n[t+1],s=n[t+2];let c,f,a,h,d,w,p,M,m,g,y,A,v,P,b,k,x,G,j,E,I;c=Math.abs(s),f=o*o+i*i,a=Math.sqrt(f),h=f+s*s,d=Math.sqrt(h),E=Math.atan2(i,o),w=s*s/h,p=f/h,P=l.a2/d,b=l.a3-l.a4/d,p>.3?(M=c/d*(1+p*(l.a1+P+w*b)/d),j=Math.asin(M),g=M*M,m=Math.sqrt(1-g)):(m=a/d*(1-w*(l.a5-P-p*b)/d),j=Math.acos(m),g=1-m*m,M=Math.sqrt(g)),y=1-u.eccentricitySquared*g,A=u.radius/Math.sqrt(y),v=l.a6*A,P=a-A*m,b=c-v*M,x=m*P+M*b,k=m*b-M*P,G=k/(v/y+x),j+=G,I=x+k*G/2,s<0&&(j=-j),r[e++]=zn*E,r[e++]=zn*j,r[e]=I}!function(n){n.x2lon=function(n){return n/u.radius},n.y2lat=function(n){return Math.PI/2-2*Math.atan(Math.exp(-1*n/u.radius))},n.lon2x=function(n){return n*u.radius},n.lat2y=function(n){const t=Math.sin(n);return u.radius/2*Math.log((1+t)/(1-t))}}(kn||(kn={}));const Sn={2:{5:null,8:null,10:null,6:Gn,1:Tn,7:null,9:null,0:null,3:En,2:Gn,4:_n},5:{5:Gn,8:null,10:null,6:Gn,1:Tn,7:null,9:null,0:null,3:null,2:null,4:_n},8:{5:null,8:Gn,10:null,6:null,1:null,7:function(n,t,r,u){In(n,t,r,u,j.radius)},9:null,0:null,3:null,2:null,4:null},10:{5:null,8:null,10:Gn,6:null,1:null,7:null,9:function(n,t,r,u){In(n,t,r,u,G.radius)},0:null,3:null,2:null,4:null},3:{5:null,8:null,10:null,6:jn,1:function(n,t,r,u){jn(n,t,r,u),Tn(r,u,r,u)},7:null,9:null,0:null,3:Gn,2:jn,4:function(n,t,r,u){jn(n,t,r,u),_n(r,u,r,u)}},4:{5:Nn,8:null,10:null,6:Nn,1:function(n,t,r,u){Nn(n,t,r,u),Tn(r,u,r,u)},7:null,9:null,0:null,3:function(n,t,r,u){Nn(n,t,r,u),En(r,u,r,u)},2:Nn,4:Gn},1:{5:Fn,8:null,10:null,6:Fn,1:Gn,7:null,9:null,0:null,3:function(n,t,r,u){Fn(n,t,r,u),En(r,u,r,u)},2:Fn,4:function(n,t,r,u){Fn(n,t,r,u),_n(r,u,r,u)}},7:{5:null,8:function(n,t,r,u){Cn(n,t,r,u,j.radius)},10:null,6:null,1:null,7:Gn,9:null,0:null,3:null,2:null,4:null},9:{5:null,8:null,10:function(n,t,r,u){Cn(n,t,r,u,G.radius)},6:null,1:null,7:null,9:Gn,0:null,3:null,2:null,4:null},0:{5:null,8:null,10:null,6:null,1:null,7:null,9:null,0:Gn,3:null,2:null,4:null},6:{5:null,8:null,10:null,6:Gn,1:Tn,7:null,9:null,0:null,3:null,2:Gn,4:_n}};function Un(n,t,r=Dn()){return e(n)||e(t)?null:function(n,t,r){if(e(n)||e(t)||r.source.spatialReference===n&&r.dest.spatialReference===t)return r;const u=xn(n,r.source),o=xn(t,r.dest);return r.projector=0===u&&0===o?l(n,t)?Gn:null:Sn[u][o],r}(n,t,r).projector}function Dn(){return{source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:Gn}}const Rn=Dn(),Zn=k(1),zn=x(1),Ln=T(),Kn=T();export{an as D,hn as H,dn as J,wn as O,pn as Q,mn as e,yn as p,gn as r,Pn as x}