import{ae as t,aj as o,aS as n,b as e,t as r}from"./p-ab028778.js";const f=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function u(t){return t instanceof o}function c(o){return o instanceof t?Object.keys(o.items):u(o)?n(o).keys():o?Object.keys(o):[]}function i(o,n){return o instanceof t?o.items[n]:o[n]}function l(t){return t?t.declaredClass:null}function s(t,o){const n=t.diff;if(n&&"function"==typeof n)return n(t,o);const r=c(t),p=c(o);if(0===r.length&&0===p.length)return;if(!r.length||!p.length||function(t,o){return!(!Array.isArray(t)||!Array.isArray(o))&&t.length!==o.length}(t,o))return{type:"complete",oldValue:t,newValue:o};const a=p.filter((t=>-1===r.indexOf(t))),y=r.filter((t=>-1===p.indexOf(t))),b=r.filter((n=>p.indexOf(n)>-1&&i(t,n)!==i(o,n))).concat(a,y).sort(),m=l(t);if(m&&f.indexOf(m)>-1&&b.length)return{type:"complete",oldValue:t,newValue:o};let j;const V=u(t)&&u(o);for(const r of b){const f=i(t,r),u=i(o,r);let c;(V||"function"!=typeof f&&"function"!=typeof u)&&f!==u&&(null==f&&null==u||(c=n&&n[r]&&"function"==typeof n[r]?n[r](f,u):"object"==typeof f&&"object"==typeof u&&l(f)===l(u)?s(f,u):{type:"complete",oldValue:f,newValue:u},e(c)&&(e(j)?j.diff[r]=c:j={type:"partial",diff:{[r]:c}})))}return j}function p(t,o){if(r(t))return!1;const n=o.split(".");let e=t;for(const t of n){if("complete"===e.type)return!0;if("partial"!==e.type)return!1;{const o=e.diff[t];if(!o)return!1;e=o}}return!0}function a(t,o){for(const n of o)if(p(t,n))return!0;return!1}function y(t,o){if("function"!=typeof t&&"function"!=typeof o&&(t||o))return!t||!o||"object"==typeof t&&"object"==typeof o&&l(t)!==l(o)?{type:"complete",oldValue:t,newValue:o}:s(t,o)}export{a,p,y}