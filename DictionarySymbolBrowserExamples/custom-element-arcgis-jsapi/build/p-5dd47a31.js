import{cR as t}from"./p-dc4230e0.js";class s{constructor(t,s,i,e){this.set(t,s,i,e)}static getId(t,s,i,e){return"object"==typeof t?`${t.level}/${t.row}/${t.col}/${t.world}`:`${t}/${s}/${i}/${e}`}get key(){return this}get id(){return this.toString()}set id(t){this.set(t)}acquire(t,s,i,e){this.set(t,s,i,e)}contains(t){const s=t.level-this.level;return this.row===t.row>>s&&this.col===t.col>>s&&this.world===t.world}equals(t){return this.level===t.level&&this.row===t.row&&this.col===t.col&&this.world===t.world}clone(){return new s(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(t,s,i,e){if(null==t)this.level=0,this.row=0,this.col=0,this.world=0;else if("object"==typeof t)this.level=t.level||0,this.row=t.row||0,this.col=t.col||0,this.world=t.world||0;else if("string"==typeof t){const[s,i,e,h]=t.split("/");this.level=parseFloat(s),this.row=parseFloat(i),this.col=parseFloat(e),this.world=parseFloat(h)}else this.level=+t,this.row=+s,this.col=+i,this.world=+e||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new s(this.level-1,this.row>>1,this.col>>1,this.world)}getChildKeys(){const t=this.level+1,i=this.row<<1,e=this.col<<1,h=this.world;return[new s(t,i,e,h),new s(t,i,e+1,h),new s(t,i+1,e,h),new s(t,i+1,e+1,h)]}compareRowMajor(t){return this.row<t.row?-1:this.row>t.row?1:this.col<t.col?-1:this.col>t.col?1:0}}s.pool=new t(s,null,null,25,50);export{s as e}