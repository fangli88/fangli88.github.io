import"./p-476cf7c4.js";import{aI as r,m as e,a1 as t}from"./p-dc4230e0.js";import{p as n}from"./p-80159981.js";async function a(n=null,a){if(r.geometryServiceUrl)return new((await import("./p-85c0a55f.js")).default)({url:r.geometryServiceUrl});if(!n)throw new e("internal:geometry-service-url-not-configured");let i;if(i="portal"in n?n.portal||t.getDefault():n,await i.load({signal:a}),i.helperServices&&i.helperServices.geometry&&i.helperServices.geometry.url)return new((await import("./p-85c0a55f.js")).default)({url:i.helperServices.geometry.url});throw new e("internal:geometry-service-url-not-configured")}async function i(r,t,i=null,o){const c=await a(i,o),s=new n;s.geometries=[r],s.outSpatialReference=t;const l=await c.project(s,{signal:o});if(l&&Array.isArray(l)&&1===l.length)return l[0];throw new e("internal:geometry-service-projection-failed")}export{a as create,i as projectGeometry}