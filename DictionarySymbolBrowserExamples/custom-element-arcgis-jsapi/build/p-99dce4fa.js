import{n as t,t as n}from"./p-abda1e64.js";import{a as r,_ as e,Y as a,j as o,t as u,z as c}from"./p-a8e713de.js";import{a as s,r as i,s as f,l,_ as h,j as M,x as _,q as p,g as m,D as A,E as j}from"./p-749423b3.js";function w(){return[1,0,0,0,1,0,0,0,1]}function y(t,n){return new Float64Array(t,n,9)}function d(){return[0,0,0,1]}function b(t,n){return new Float64Array(t,n,4)}function g(t,n,r){r*=.5;const e=Math.sin(r);return t[0]=e*n[0],t[1]=e*n[1],t[2]=e*n[2],t[3]=Math.cos(r),t}function q(t,n){const e=2*Math.acos(n[3]),a=Math.sin(e/2);return a>r?(t[0]=n[0]/a,t[1]=n[1]/a,t[2]=n[2]/a):(t[0]=1,t[1]=0,t[2]=0),e}function x(t,n,r){const e=n[0],a=n[1],o=n[2],u=n[3],c=r[0],s=r[1],i=r[2],f=r[3];return t[0]=e*f+u*c+a*i-o*s,t[1]=a*f+u*s+o*c-e*i,t[2]=o*f+u*i+e*s-a*c,t[3]=u*f-e*c-a*s-o*i,t}function E(t,n,e,a){const o=n[0],u=n[1],c=n[2],s=n[3];let i,f,l,h,M,_=e[0],p=e[1],m=e[2],A=e[3];return f=o*_+u*p+c*m+s*A,f<0&&(f=-f,_=-_,p=-p,m=-m,A=-A),1-f>r?(i=Math.acos(f),l=Math.sin(i),h=Math.sin((1-a)*i)/l,M=Math.sin(a*i)/l):(h=1-a,M=a),t[0]=h*o+M*_,t[1]=h*u+M*p,t[2]=h*c+M*m,t[3]=h*s+M*A,t}function F(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t}function O(t,n){const r=n[0]+n[4]+n[8];let e;if(r>0)e=Math.sqrt(r+1),t[3]=.5*e,e=.5/e,t[0]=(n[5]-n[7])*e,t[1]=(n[6]-n[2])*e,t[2]=(n[1]-n[3])*e;else{let r=0;n[4]>n[0]&&(r=1),n[8]>n[3*r+r]&&(r=2);const a=(r+1)%3,o=(r+2)%3;e=Math.sqrt(n[3*r+r]-n[3*a+a]-n[3*o+o]+1),t[r]=.5*e,e=.5/e,t[3]=(n[3*a+o]-n[3*o+a])*e,t[a]=(n[3*a+r]+n[3*r+a])*e,t[o]=(n[3*o+r]+n[3*r+o])*e}return t}Object.freeze({__proto__:null,create:w,clone:function(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]},fromValues:function(t,n,r,e,a,o,u,c,s){return[t,n,r,e,a,o,u,c,s]},createView:y}),Object.freeze({__proto__:null,create:d,clone:function(t){return[t[0],t[1],t[2],t[3]]},fromValues:function(t,n,r,e){return[t,n,r,e]},createView:b,IDENTITY:[0,0,0,1]});const T=s,V=i,I=f,N=x,Y=l,Z=h,z=M,U=_,X=U,D=p,L=D,S=m,v=A,R=j,W=t(),k=n(1,0,0),B=n(0,1,0),C=[0,0,0,1],G=[0,0,0,1],H=[1,0,0,0,1,0,0,0,1];function J(){return new Float32Array(3)}function K(t,n,r){const e=new Float32Array(3);return e[0]=t,e[1]=n,e[2]=r,e}function P(){return J()}function Q(){return K(1,1,1)}function $(){return K(1,0,0)}function tt(){return K(0,1,0)}function nt(){return K(0,0,1)}Object.freeze({__proto__:null,identity:function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},setAxisAngle:g,getAxisAngle:q,multiply:x,rotateX:function(t,n,r){r*=.5;const e=n[0],a=n[1],o=n[2],u=n[3],c=Math.sin(r),s=Math.cos(r);return t[0]=e*s+u*c,t[1]=a*s+o*c,t[2]=o*s-a*c,t[3]=u*s-e*c,t},rotateY:function(t,n,r){r*=.5;const e=n[0],a=n[1],o=n[2],u=n[3],c=Math.sin(r),s=Math.cos(r);return t[0]=e*s-o*c,t[1]=a*s+u*c,t[2]=o*s+e*c,t[3]=u*s-a*c,t},rotateZ:function(t,n,r){r*=.5;const e=n[0],a=n[1],o=n[2],u=n[3],c=Math.sin(r),s=Math.cos(r);return t[0]=e*s+a*c,t[1]=a*s-e*c,t[2]=o*s+u*c,t[3]=u*s-o*c,t},calculateW:function(t,n){const r=n[0],e=n[1],a=n[2];return t[0]=r,t[1]=e,t[2]=a,t[3]=Math.sqrt(Math.abs(1-r*r-e*e-a*a)),t},slerp:E,random:function(t){const n=u(),r=u(),e=u(),a=Math.sqrt(1-n),o=Math.sqrt(n);return t[0]=a*Math.sin(2*Math.PI*r),t[1]=a*Math.cos(2*Math.PI*r),t[2]=o*Math.sin(2*Math.PI*e),t[3]=o*Math.cos(2*Math.PI*e),t},invert:function(t,n){const r=n[0],e=n[1],a=n[2],o=n[3],u=r*r+e*e+a*a+o*o,c=u?1/u:0;return t[0]=-r*c,t[1]=-e*c,t[2]=-a*c,t[3]=o*c,t},conjugate:F,fromMat3:O,fromEuler:function(t,n,r,e){const a=.5*Math.PI/180;n*=a,r*=a,e*=a;const o=Math.sin(n),u=Math.cos(n),c=Math.sin(r),s=Math.cos(r),i=Math.sin(e),f=Math.cos(e);return t[0]=o*s*f-u*c*i,t[1]=u*c*f+o*s*i,t[2]=u*s*i-o*c*f,t[3]=u*s*f+o*c*i,t},str:function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},copy:T,set:V,add:I,mul:N,scale:Y,dot:Z,lerp:z,length:U,len:X,squaredLength:D,sqrLen:L,normalize:S,exactEquals:v,equals:R,rotationTo:function(t,n,r){const u=c(n,r);return u<-.999999?(e(W,k,n),a(W)<1e-6&&e(W,B,n),o(W,W),g(t,W,Math.PI),t):u>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(e(W,n,r),t[0]=W[0],t[1]=W[1],t[2]=W[2],t[3]=1+u,S(t,t))},sqlerp:function(t,n,r,e,a,o){return E(C,n,a,o),E(G,r,e,o),E(t,C,G,2*o*(1-o)),t},setAxes:function(t,n,r,e){const a=H;return a[0]=r[0],a[3]=r[1],a[6]=r[2],a[1]=e[0],a[4]=e[1],a[7]=e[2],a[2]=-n[0],a[5]=-n[1],a[8]=-n[2],S(t,O(t,a))}});const rt=P(),et=Q(),at=$(),ot=tt(),ut=nt();Object.freeze({__proto__:null,create:J,clone:function(t){const n=new Float32Array(3);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n},fromValues:K,createView:function(t,n){return new Float32Array(t,n,3)},zeros:P,ones:Q,unitX:$,unitY:tt,unitZ:nt,ZEROS:rt,ONES:et,UNIT_X:at,UNIT_Y:ot,UNIT_Z:ut});export{q as I,y as a,b,d as c,w as e,J as n,K as t,F as w}