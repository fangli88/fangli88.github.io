import"./p-dc4230e0.js";import{o as t}from"./p-8f2b0eee.js";import{r as s}from"./p-c855175e.js";import{r}from"./p-ef72a682.js";class e{constructor(t,s,r=0,e,i){this.TypedArrayConstructor=t,this.elementCount=9;const n=this.TypedArrayConstructor;void 0===e&&(e=9*n.BYTES_PER_ELEMENT);const h=0===s.byteLength?0:r;this.typedBuffer=null==i?new n(s,h):new n(s,h,(i-r)/n.BYTES_PER_ELEMENT),this.typedBufferStride=e/n.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}getMat(t,s){const r=t*this.typedBufferStride;for(let t=0;t<9;t++)s[t]=this.typedBuffer[r+t];return s}setMat(t,s){const r=t*this.typedBufferStride;for(let t=0;t<9;t++)this.typedBuffer[r+t]=s[t]}get(t,s){return this.typedBuffer[t*this.typedBufferStride+s]}set(t,s,r){this.typedBuffer[t*this.typedBufferStride+s]=r}copyFrom(t,s,r){const e=this.typedBuffer,i=s.typedBuffer,n=t*this.typedBufferStride,h=r*s.typedBufferStride;for(let t=0;t<9;++t)e[n+t]=i[h+t]}get buffer(){return this.typedBuffer.buffer}}e.ElementCount=9;class i{constructor(t,s,r=0,e,i){this.TypedArrayConstructor=t,this.elementCount=16;const n=this.TypedArrayConstructor;void 0===e&&(e=16*n.BYTES_PER_ELEMENT);const h=0===s.byteLength?0:r;this.typedBuffer=null==i?new n(s,h):new n(s,h,(i-r)/n.BYTES_PER_ELEMENT),this.typedBufferStride=e/n.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}getMat(t,s){const r=t*this.typedBufferStride;for(let t=0;t<16;t++)s[t]=this.typedBuffer[r+t];return s}setMat(t,s){const r=t*this.typedBufferStride;for(let t=0;t<16;t++)this.typedBuffer[r+t]=s[t]}get(t,s){return this.typedBuffer[t*this.typedBufferStride+s]}set(t,s,r){this.typedBuffer[t*this.typedBufferStride+s]=r}copyFrom(t,s,r){const e=this.typedBuffer,i=s.typedBuffer,n=t*this.typedBufferStride,h=r*s.typedBufferStride;for(let t=0;t<16;++t)e[n+t]=i[h+t]}get buffer(){return this.typedBuffer.buffer}}i.ElementCount=16;class n{constructor(t,s,r=0,e,i){this.TypedArrayConstructor=t,this.elementCount=1;const n=this.TypedArrayConstructor;void 0===e&&(e=n.BYTES_PER_ELEMENT);const h=0===s.byteLength?0:r;this.typedBuffer=null==i?new n(s,h):new n(s,h,(i-r)/n.BYTES_PER_ELEMENT),this.typedBufferStride=e/n.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}get(t){return this.typedBuffer[t*this.typedBufferStride]}set(t,s){this.typedBuffer[t*this.typedBufferStride]=s}get buffer(){return this.typedBuffer.buffer}}n.ElementCount=1;class h{constructor(t,s,r=0,e,i){this.TypedArrayConstructor=t,this.elementCount=2;const n=this.TypedArrayConstructor;void 0===e&&(e=2*n.BYTES_PER_ELEMENT);const h=0===s.byteLength?0:r;this.typedBuffer=null==i?new n(s,h):new n(s,h,(i-r)/n.BYTES_PER_ELEMENT),this.typedBufferStride=e/n.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}getVec(t,r){return s(r,this.typedBuffer[t*this.typedBufferStride],this.typedBuffer[t*this.typedBufferStride+1])}setVec(t,s){this.typedBuffer[t*this.typedBufferStride]=s[0],this.typedBuffer[t*this.typedBufferStride+1]=s[1]}get(t,s){return this.typedBuffer[t*this.typedBufferStride+s]}set(t,s,r){this.typedBuffer[t*this.typedBufferStride+s]=r}setValues(t,s,r){this.typedBuffer[t*this.typedBufferStride]=s,this.typedBuffer[t*this.typedBufferStride+1]=r}copyFrom(t,s,r){const e=this.typedBuffer,i=s.typedBuffer,n=t*this.typedBufferStride,h=r*s.typedBufferStride;e[n]=i[h],e[n+1]=i[h+1]}get buffer(){return this.typedBuffer.buffer}}h.ElementCount=2;class c{constructor(t,s,r=0,e,i){this.TypedArrayConstructor=t,this.elementCount=3;const n=this.TypedArrayConstructor;void 0===e&&(e=3*n.BYTES_PER_ELEMENT);const h=0===s.byteLength?0:r;this.typedBuffer=null==i?new n(s,h):new n(s,h,(i-r)/n.BYTES_PER_ELEMENT),this.typedBufferStride=e/n.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}getVec(s,r){return t(r,this.typedBuffer[s*this.typedBufferStride],this.typedBuffer[s*this.typedBufferStride+1],this.typedBuffer[s*this.typedBufferStride+2])}setVec(t,s){this.typedBuffer[t*this.typedBufferStride]=s[0],this.typedBuffer[t*this.typedBufferStride+1]=s[1],this.typedBuffer[t*this.typedBufferStride+2]=s[2]}get(t,s){return this.typedBuffer[t*this.typedBufferStride+s]}set(t,s,r){this.typedBuffer[t*this.typedBufferStride+s]=r}setValues(t,s,r,e){this.typedBuffer[t*this.typedBufferStride]=s,this.typedBuffer[t*this.typedBufferStride+1]=r,this.typedBuffer[t*this.typedBufferStride+2]=e}copyFrom(t,s,r){const e=this.typedBuffer,i=s.typedBuffer,n=t*this.typedBufferStride,h=r*s.typedBufferStride;e[n]=i[h],e[n+1]=i[h+1],e[n+2]=i[h+2]}get buffer(){return this.typedBuffer.buffer}}c.ElementCount=3;class u{constructor(t,s,r=0,e,i){this.TypedArrayConstructor=t,this.elementCount=4;const n=this.TypedArrayConstructor;void 0===e&&(e=4*n.BYTES_PER_ELEMENT);const h=0===s.byteLength?0:r;this.typedBuffer=null==i?new n(s,h):new n(s,h,(i-r)/n.BYTES_PER_ELEMENT),this.typedBufferStride=e/n.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}getVec(t,s){return r(s,this.typedBuffer[t*this.typedBufferStride],this.typedBuffer[t*this.typedBufferStride+1],this.typedBuffer[t*this.typedBufferStride+2],this.typedBuffer[t*this.typedBufferStride+3])}setVec(t,s){this.typedBuffer[t*this.typedBufferStride]=s[0],this.typedBuffer[t*this.typedBufferStride+1]=s[1],this.typedBuffer[t*this.typedBufferStride+2]=s[2],this.typedBuffer[t*this.typedBufferStride+3]=s[3]}get(t,s){return this.typedBuffer[t*this.typedBufferStride+s]}set(t,s,r){this.typedBuffer[t*this.typedBufferStride+s]=r}setValues(t,s,r,e,i){this.typedBuffer[t*this.typedBufferStride]=s,this.typedBuffer[t*this.typedBufferStride+1]=r,this.typedBuffer[t*this.typedBufferStride+2]=e,this.typedBuffer[t*this.typedBufferStride+3]=i}copyFrom(t,s,r){const e=this.typedBuffer,i=s.typedBuffer,n=t*this.typedBufferStride,h=r*s.typedBufferStride;e[n]=i[h],e[n+1]=i[h+1],e[n+2]=i[h+2],e[n+3]=i[h+3]}get buffer(){return this.typedBuffer.buffer}}u.ElementCount=4;class a extends n{constructor(t,s=0,r,e){super(Float32Array,t,s,r,e),this.elementType="f32"}static fromTypedArray(t,s){return new a(t.buffer,t.byteOffset,s,t.byteOffset+t.byteLength)}}a.ElementType="f32";class o extends h{constructor(t,s=0,r,e){super(Float32Array,t,s,r,e),this.elementType="f32"}static fromTypedArray(t,s){return new o(t.buffer,t.byteOffset,s,t.byteOffset+t.byteLength)}}o.ElementType="f32";class f extends c{constructor(t,s=0,r,e){super(Float32Array,t,s,r,e),this.elementType="f32"}static fromTypedArray(t,s){return new f(t.buffer,t.byteOffset,s,t.byteOffset+t.byteLength)}}f.ElementType="f32";class y extends u{constructor(t,s=0,r,e){super(Float32Array,t,s,r,e),this.elementType="f32"}static fromTypedArray(t,s){return new y(t.buffer,t.byteOffset,s,t.byteOffset+t.byteLength)}}y.ElementType="f32";class p extends e{constructor(t,s=0,r,e){super(Float32Array,t,s,r,e),this.elementType="f32"}static fromTypedArray(t,s){return new p(t.buffer,t.byteOffset,s,t.byteOffset+t.byteLength)}}p.ElementType="f32";class l extends e{constructor(t,s=0,r,e){super(Float64Array,t,s,r,e),this.elementType="f64"}static fromTypedArray(t,s){return new l(t.buffer,t.byteOffset,s,t.byteOffset+t.byteLength)}}l.ElementType="f64";class d extends i{constructor(t,s=0,r,e){super(Float32Array,t,s,r,e),this.elementType="f32"}static fromTypedArray(t,s){return new d(t.buffer,t.byteOffset,s,t.byteOffset+t.byteLength)}}d.ElementType="f32";class A extends i{constructor(t,s=0,r,e){super(Float64Array,t,s,r,e),this.elementType="f64"}static fromTypedArray(t,s){return new A(t.buffer,t.byteOffset,s,t.byteOffset+t.byteLength)}}A.ElementType="f64";class w extends n{constructor(t,s=0,r,e){super(Float64Array,t,s,r,e),this.elementType="f64"}static fromTypedArray(t,s){return new w(t.buffer,t.byteOffset,s,t.byteOffset+t.byteLength)}}w.ElementType="f64";class m extends h{constructor(t,s=0,r,e){super(Float64Array,t,s,r,e),this.elementType="f64"}static fromTypedArray(t,s){return new m(t.buffer,t.byteOffset,s,t.byteOffset+t.byteLength)}}m.ElementType="f64";class x extends c{constructor(t,s=0,r,e){super(Float64Array,t,s,r,e),this.elementType="f64"}static fromTypedArray(t,s){return new x(t.buffer,t.byteOffset,s,t.byteOffset+t.byteLength)}}x.ElementType="f64";class T extends u{constructor(t,s=0,r,e){super(Float64Array,t,s,r,e),this.elementType="f64"}static fromTypedArray(t,s){return new T(t.buffer,t.byteOffset,s,t.byteOffset+t.byteLength)}}T.ElementType="f64";class g extends n{constructor(t,s=0,r,e){super(Uint8Array,t,s,r,e),this.elementType="u8"}static fromTypedArray(t,s){return new g(t.buffer,t.byteOffset,s,t.byteOffset+t.byteLength)}}g.ElementType="u8";class F extends h{constructor(t,s=0,r,e){super(Uint8Array,t,s,r,e),this.elementType="u8"}static fromTypedArray(t,s){return new F(t.buffer,t.byteOffset,s,t.byteOffset+t.byteLength)}}F.ElementType="u8";class v extends c{constructor(t,s=0,r,e){super(Uint8Array,t,s,r,e),this.elementType="u8"}static fromTypedArray(t,s){return new v(t.buffer,t.byteOffset,s,t.byteOffset+t.byteLength)}}v.ElementType="u8";class U extends u{constructor(t,s=0,r,e){super(Uint8Array,t,s,r,e),this.elementType="u8"}static fromTypedArray(t,s){return new U(t.buffer,t.byteOffset,s,t.byteOffset+t.byteLength)}}U.ElementType="u8";class M extends n{constructor(t,s=0,r,e){super(Uint16Array,t,s,r,e),this.elementType="u16"}static fromTypedArray(t,s){return new M(t.buffer,t.byteOffset,s,t.byteOffset+t.byteLength)}}M.ElementType="u16";class I extends h{constructor(t,s=0,r,e){super(Uint16Array,t,s,r,e),this.elementType="u16"}static fromTypedArray(t,s){return new I(t.buffer,t.byteOffset,s,t.byteOffset+t.byteLength)}}I.ElementType="u16";class b extends c{constructor(t,s=0,r,e){super(Uint16Array,t,s,r,e),this.elementType="u16"}static fromTypedArray(t,s){return new b(t.buffer,t.byteOffset,s,t.byteOffset+t.byteLength)}}b.ElementType="u16";class V extends u{constructor(t,s=0,r,e){super(Uint16Array,t,s,r,e),this.elementType="u16"}static fromTypedArray(t,s){return new V(t.buffer,t.byteOffset,s,t.byteOffset+t.byteLength)}}V.ElementType="u16";class j extends n{constructor(t,s=0,r,e){super(Uint32Array,t,s,r,e),this.elementType="u32"}static fromTypedArray(t,s){return new j(t.buffer,t.byteOffset,s,t.byteOffset+t.byteLength)}}j.ElementType="u32";class B extends h{constructor(t,s=0,r,e){super(Uint32Array,t,s,r,e),this.elementType="u32"}static fromTypedArray(t,s){return new B(t.buffer,t.byteOffset,s,t.byteOffset+t.byteLength)}}B.ElementType="u32";class k extends c{constructor(t,s=0,r,e){super(Uint32Array,t,s,r,e),this.elementType="u32"}static fromTypedArray(t,s){return new k(t.buffer,t.byteOffset,s,t.byteOffset+t.byteLength)}}k.ElementType="u32";class q extends u{constructor(t,s=0,r,e){super(Uint32Array,t,s,r,e),this.elementType="u32"}static fromTypedArray(t,s){return new q(t.buffer,t.byteOffset,s,t.byteOffset+t.byteLength)}}q.ElementType="u32";class z extends n{constructor(t,s=0,r,e){super(Int8Array,t,s,r,e),this.elementType="i8"}static fromTypedArray(t,s){return new z(t.buffer,t.byteOffset,s,t.byteOffset+t.byteLength)}}z.ElementType="i8";class L extends h{constructor(t,s=0,r,e){super(Int8Array,t,s,r,e),this.elementType="i8"}static fromTypedArray(t,s){return new L(t.buffer,t.byteOffset,s,t.byteOffset+t.byteLength)}}L.ElementType="i8";class C extends c{constructor(t,s=0,r,e){super(Int8Array,t,s,r,e),this.elementType="i8"}static fromTypedArray(t,s){return new C(t.buffer,t.byteOffset,s,t.byteOffset+t.byteLength)}}C.ElementType="i8";class D extends u{constructor(t,s=0,r,e){super(Int8Array,t,s,r,e),this.elementType="i8"}static fromTypedArray(t,s){return new D(t.buffer,t.byteOffset,s,t.byteOffset+t.byteLength)}}D.ElementType="i8";class E extends n{constructor(t,s=0,r,e){super(Int16Array,t,s,r,e),this.elementType="i16"}static fromTypedArray(t,s){return new E(t.buffer,t.byteOffset,s,t.byteOffset+t.byteLength)}}E.ElementType="i16";class G extends h{constructor(t,s=0,r,e){super(Int16Array,t,s,r,e),this.elementType="i16"}static fromTypedArray(t,s){return new G(t.buffer,t.byteOffset,s,t.byteOffset+t.byteLength)}}G.ElementType="i16";class H extends c{constructor(t,s=0,r,e){super(Int16Array,t,s,r,e),this.elementType="i16"}static fromTypedArray(t,s){return new H(t.buffer,t.byteOffset,s,t.byteOffset+t.byteLength)}}H.ElementType="i16";class J extends u{constructor(t,s=0,r,e){super(Int16Array,t,s,r,e),this.elementType="i16"}static fromTypedArray(t,s){return new J(t.buffer,t.byteOffset,s,t.byteOffset+t.byteLength)}}J.ElementType="i16";class K extends n{constructor(t,s=0,r,e){super(Int32Array,t,s,r,e),this.elementType="i32"}static fromTypedArray(t,s){return new K(t.buffer,t.byteOffset,s,t.byteOffset+t.byteLength)}}K.ElementType="i32";class N extends h{constructor(t,s=0,r,e){super(Int32Array,t,s,r,e),this.elementType="i32"}static fromTypedArray(t,s){return new N(t.buffer,t.byteOffset,s,t.byteOffset+t.byteLength)}}N.ElementType="i32";class O extends c{constructor(t,s=0,r,e){super(Int32Array,t,s,r,e),this.elementType="i32"}static fromTypedArray(t,s){return new O(t.buffer,t.byteOffset,s,t.byteOffset+t.byteLength)}}O.ElementType="i32";class P extends u{constructor(t,s=0,r,e){super(Int32Array,t,s,r,e),this.elementType="i32"}static fromTypedArray(t,s){return new P(t.buffer,t.byteOffset,s,t.byteOffset+t.byteLength)}}function Q(t){switch(t){case"u8":return 1;case"u16":return 2;case"u32":return 4;case"i8":return 1;case"i16":return 2;case"i32":case"f32":return 4;case"f64":return 8;default:return}}function R(t){switch(t){case"u8":case"u16":case"u32":return!1;case"i8":case"i16":case"i32":case"f32":case"f64":return!0;default:return}}function S(t){switch(t){case"u8":case"u16":case"u32":case"i8":case"i16":case"i32":return!0;case"f32":case"f64":return!1;default:return}}function W(t){switch(t){case"u8":return 255;case"u16":return 65535;case"u32":return 4294967295;case"i8":return 127;case"i16":return 32767;case"i32":return 2147483647;case"f32":return 3402823e32;case"f64":return 179769e303;default:return}}P.ElementType="i32";class X{constructor(t,s){this.layout=t,this.buffer="number"==typeof s?new ArrayBuffer(s*t.stride):s;for(const s of t.fieldNames){const r=t.fields.get(s);this[s]=new r.constructor(this.buffer,r.offset,this.stride)}}get stride(){return this.layout.stride}get count(){return this.buffer.byteLength/this.stride}get byteLength(){return this.buffer.byteLength}getField(t,s){const r=this[t];return r&&r.elementCount===s.ElementCount&&r.elementType===s.ElementType?r:null}slice(t,s){return new X(this.layout,this.buffer.slice(t*this.stride,s*this.stride))}copyFrom(t,s,r,e){const i=this.stride;if(i%4==0){const n=new Uint32Array(t.buffer,s*i,e*i/4);new Uint32Array(this.buffer,r*i,e*i/4).set(n)}else{const n=new Uint8Array(t.buffer,s*i,e*i);new Uint8Array(this.buffer,r*i,e*i).set(n)}}}class Y{constructor(){this.stride=0,this.fields=new Map,this.fieldNames=[]}vec2f(t,s){return this.appendField(t,o,s),this}vec2f64(t,s){return this.appendField(t,m,s),this}vec3f(t,s){return this.appendField(t,f,s),this}vec3f64(t,s){return this.appendField(t,x,s),this}vec4f(t,s){return this.appendField(t,y,s),this}vec4f64(t,s){return this.appendField(t,T,s),this}mat3f(t,s){return this.appendField(t,p,s),this}mat3f64(t,s){return this.appendField(t,l,s),this}mat4f(t,s){return this.appendField(t,d,s),this}mat4f64(t,s){return this.appendField(t,A,s),this}vec4u8(t,s){return this.appendField(t,U,s),this}f32(t,s){return this.appendField(t,a,s),this}f64(t,s){return this.appendField(t,w,s),this}u8(t,s){return this.appendField(t,g,s),this}u16(t,s){return this.appendField(t,M,s),this}i8(t,s){return this.appendField(t,z,s),this}vec2i8(t,s){return this.appendField(t,L,s),this}vec2i16(t,s){return this.appendField(t,G,s),this}vec2u8(t,s){return this.appendField(t,F,s),this}vec4u16(t,s){return this.appendField(t,V,s),this}u32(t,s){return this.appendField(t,j,s),this}appendField(t,s,r){const e=s.ElementCount*Q(s.ElementType);this.fields.set(t,{size:e,constructor:s,offset:this.stride,optional:r}),this.stride+=e,this.fieldNames.push(t)}alignTo(t){return this.stride=Math.floor((this.stride+t-1)/t)*t,this}hasField(t){return this.fieldNames.indexOf(t)>=0}createBuffer(t){return new X(this,t)}createView(t){return new X(this,t)}clone(){const t=new Y;return t.stride=this.stride,t.fields=new Map,this.fields.forEach(((s,r)=>t.fields.set(r,s))),t.fieldNames=this.fieldNames.slice(),t.BufferType=this.BufferType,t}}function Z(){return new Y}export{Z as A,J as B,K as C,N as D,b as E,j as F,O as G,P as H,B as I,V as L,L as M,v as O,C as S,x as T,k as U,z as V,f as a,S as b,W as c,F as d,Q as e,a as f,M as g,g as h,p as i,w as j,T as k,l,m,A as n,d as o,y as p,q,R as r,D as s,E as t,o as u,G as v,I as w,U as x,H as z}