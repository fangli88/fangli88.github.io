import{cp as t}from"./p-ab028778.js";class s{constructor(t,s,i,h){this.set(t,s,i,h)}static getId(t,s,i,h){return"object"==typeof t?`${t.level}/${t.row}/${t.col}/${t.world}`:`${t}/${s}/${i}/${h}`}get key(){return this}get id(){return this.toString()}set id(t){this.set(t)}acquire(t,s,i,h){this.set(t,s,i,h)}contains(t){const s=t.level-this.level;return this.row===t.row>>s&&this.col===t.col>>s&&this.world===t.world}equals(t){return this.level===t.level&&this.row===t.row&&this.col===t.col&&this.world===t.world}clone(){return new s(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(t,s,i,h){if(null==t)this.level=0,this.row=0,this.col=0,this.world=0;else if("object"==typeof t)this.level=t.level||0,this.row=t.row||0,this.col=t.col||0,this.world=t.world||0;else if("string"==typeof t){const[s,i,h,e]=t.split("/");this.level=parseFloat(s),this.row=parseFloat(i),this.col=parseFloat(h),this.world=parseFloat(e)}else this.level=+t,this.row=+s,this.col=+i,this.world=+h||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new s(this.level-1,this.row>>1,this.col>>1,this.world)}getChildKeys(){const t=this.level+1,i=this.row<<1,h=this.col<<1,e=this.world;return[new s(t,i,h,e),new s(t,i,h+1,e),new s(t,i+1,h,e),new s(t,i+1,h+1,e)]}compareRowMajor(t){return this.row<t.row?-1:this.row>t.row?1:this.col<t.col?-1:this.col>t.col?1:0}}s.pool=new t(s,null,null,25,50);export{s as e}