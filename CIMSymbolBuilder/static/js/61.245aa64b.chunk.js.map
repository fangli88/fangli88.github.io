{"version":3,"sources":["../node_modules/@arcgis/core/tasks/support/GPMessage.js","../node_modules/@arcgis/core/core/queryUtils.js","../node_modules/@arcgis/core/tasks/mixins/NAServiceDescription.js","../node_modules/@arcgis/core/tasks/support/NAMessage.js","../node_modules/@arcgis/core/tasks/support/ServiceAreaSolveResult.js","../node_modules/@arcgis/core/tasks/ServiceAreaTask.js"],"names":["p","s","esriJobMessageTypeInformative","esriJobMessageTypeProcessDefinition","esriJobMessageTypeProcessStart","esriJobMessageTypeProcessStop","esriJobMessageTypeWarning","esriJobMessageTypeError","esriJobMessageTypeEmpty","esriJobMessageTypeAbort","i","t","constructor","r","super","this","description","type","e","String","json","write","prototype","read","o","a","_options","toQueryParams","toJSON","Object","keys","forEach","n","name","getter","Array","isArray","join","JSON","stringify","l","_serviceDescriptionPromise","_fetchServiceDescription","url","parsedUrl","data","query","f","supportedTravelModes","length","id","itemId","currentVersion","async","defaultTravelMode","error","substring","indexOf","owningSystemUrl","test","path","c","serviceName","u","results","paramName","value","features","attributes","parse","TravelMode","push","_isInputGeometryZAware","hasZ","_dropZValuesOffInputGeometry","z","console","log","0","1","2","3","50","100","101","200","map","fromJSON","spatialReference","geometry","d","y","facilities","messages","pointBarriers","polylineBarriers","polygonBarriers","serviceAreaPolylines","serviceAreaPolygons","readFacilities","readPointBarriers","barriers","readPolylineBarriers","readPolygonBarriers","readIncidents","saPolylines","readServiceAreaPolygons","saPolygons","m","g","accumulateAttributes","attributeParameterValues","defaultBreaks","outSpatialReference","wkid","restrictionAttributes","returnPointBarriers","travelMode","solve","_collectGeometries","then","slice","getServiceDescription","dontCheck","get","requestOptions"],"mappings":"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","file":"static/js/61.245aa64b.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{JSONMap as s}from\"../../core/jsonMap.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";const p=new s({esriJobMessageTypeInformative:\"informative\",esriJobMessageTypeProcessDefinition:\"process-definition\",esriJobMessageTypeProcessStart:\"process-start\",esriJobMessageTypeProcessStop:\"process-stop\",esriJobMessageTypeWarning:\"warning\",esriJobMessageTypeError:\"error\",esriJobMessageTypeEmpty:\"empty\",esriJobMessageTypeAbort:\"abort\"});let i=class extends t{constructor(r){super(r),this.description=null,this.type=null}};r([e({type:String,json:{write:!0}})],i.prototype,\"description\",void 0),r([e({type:String,json:{read:p.read,write:p.write}})],i.prototype,\"type\",void 0),i=r([o(\"esri.tasks.support.GPMessage\")],i);var a=i;export default a;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nclass t{constructor(t={}){this._options=t}toQueryParams(t){if(!t)return null;const e=t.toJSON(),o={};return Object.keys(e).forEach((t=>{const n=this._options[t];if(n){const r=\"boolean\"!=typeof n&&n.name?n.name:t,s=\"boolean\"!=typeof n&&n.getter?n.getter(e):e[t];null!=s&&(o[r]=(t=>{if(!Array.isArray(t))return!1;const[e]=t;return\"number\"==typeof e||\"string\"==typeof e})(s)?s.join(\",\"):\"object\"==typeof s?JSON.stringify(s):s)}else o[t]=e[t]}),this),o}}function e(e){return new t(e)}export{e as createQueryParamsHelper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{getDeepValue as r}from\"../../core/object.js\";import{isSome as t}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"../../core/Error.js\";import{urlToObject as i}from\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../request.js\";import l from\"../Task.js\";const n=l=>{let n=class extends l{async getServiceDescription(){return this._serviceDescriptionPromise||(this._serviceDescriptionPromise=this._fetchServiceDescription()),this._serviceDescriptionPromise}async _fetchServiceDescription(){if(!this.url||!this.parsedUrl)throw new o(\"network-service:missing-url\",\"Url to Network service is missing\");const e=this.url,{data:t}=await a(e,{query:{f:\"json\"}});t.supportedTravelModes||(t.supportedTravelModes=[]);for(let e=0;e<t.supportedTravelModes.length;e++)t.supportedTravelModes[e].id||(t.supportedTravelModes[e].id=t.supportedTravelModes[e].itemId);const s=t.currentVersion>=10.4?async function(e){try{const{data:{supportedTravelModes:r,defaultTravelMode:t}}=await a(e+(\"/\"===e[e.length-1]?\"\":\"/\")+\"retrieveTravelModes\",{query:{f:\"json\"}});return{supportedTravelModes:r,defaultTravelMode:t}}catch(e){throw new o(\"network-service:retrieveTravelModes\",\"Could not get to the NAServer's retrieveTravelModes.\",{error:e})}}(e):async function(e){const{data:t}=await a(e.substring(0,e.indexOf(\"/rest/\")+6)+\"info\",{query:{f:\"json\"}});if(!t||!t.owningSystemUrl)return{supportedTravelModes:[],defaultTravelMode:null};e=t.owningSystemUrl;const{data:s}=await a(e+(\"/\"===e[e.length-1]?\"\":\"/\")+\"sharing/rest/portals/self\",{query:{f:\"json\"}}),o=r(\"helperServices.routingUtilities.url\",s);if(!o)return{supportedTravelModes:[],defaultTravelMode:null};const l=i(e),n=/\\/solveClosestFacility$/.test(l.path)?\"Route\":/\\/solveClosestFacility$/.test(l.path)?\"ClosestFacility\":\"ServiceAreas\",c=await a(o+(\"/\"===o[o.length-1]?\"\":\"/\")+\"GetTravelModes/execute\",{query:{f:\"json\",serviceName:n}}),u=[];let p=null;if(c&&c.data&&c.data.results&&c.data.results.length){const e=c.data.results;for(const r of e)if(\"supportedTravelModes\"===r.paramName){if(r.value&&r.value.features)for(const{attributes:e}of r.value.features)if(e){const r=JSON.parse(e.TravelMode);u.push(r)}}else\"defaultTravelMode\"===r.paramName&&(p=r.value)}return{supportedTravelModes:u,defaultTravelMode:p}}(e),{defaultTravelMode:l,supportedTravelModes:n}=await s;return t.defaultTravelMode=l,t.supportedTravelModes=n,t}_isInputGeometryZAware(e,r){for(let s=0;s<r.length;s++){const o=e[r[s]];if(o&&o.length)for(const e of o)if(t(e)&&e.hasZ)return!0}return!1}_dropZValuesOffInputGeometry(e,r){for(let t=0;t<r.length;t++){const s=e[r[t]];if(s&&s.length)for(const e of s)e.z=void 0}console.log(\"The remote Network Analysis service is powered by a network dataset which is not Z-aware.\\nZ-coordinates of the input geometry are ignored.\")}};return n=e([s(\"esri.tasks.mixins.NAServiceDescription\")],n),n};let c=class extends(n(l)){};c=e([s(\"esri.tasks.mixins.NAServiceDescription\")],c);export{c as NAServiceDescription,n as NAServiceDescriptionMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{JSONMap as s}from\"../../core/jsonMap.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import t from\"./GPMessage.js\";const p=new s({0:\"informative\",1:\"process-definition\",2:\"process-start\",3:\"process-stop\",50:\"warning\",100:\"error\",101:\"empty\",200:\"abort\"});let i=class extends t{constructor(r){super(r),this.type=null}};r([o({type:String,json:{read:p.read,write:p.write}})],i.prototype,\"type\",void 0),i=r([e(\"esri.tasks.support.NAMessage\")],i);var c=i;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{unwrap as e}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{reader as t}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as i}from\"../../core/JSONSupport.js\";import p from\"../../geometry/SpatialReference.js\";import a from\"../../geometry/Point.js\";import l from\"../../geometry/Polygon.js\";import n from\"../../geometry/Polyline.js\";import{fromJSON as y}from\"../../geometry/support/jsonUtils.js\";import\"../../geometry.js\";import c from\"../../Graphic.js\";import m from\"./NAMessage.js\";function u(r){return r.features.map((o=>{const t=p.fromJSON(r.spatialReference),s=c.fromJSON(o);return e(s.geometry).spatialReference=t,s}))}function d(r){return r.features.map((e=>(e.geometry.spatialReference=r.spatialReference,y(e.geometry))))}let f=class extends i{constructor(r){super(r),this.facilities=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.serviceAreaPolylines=null,this.serviceAreaPolygons=null}readFacilities(r){return d(r)}readPointBarriers(r,e){return d(e.barriers)}readPolylineBarriers(r){return d(r)}readPolygonBarriers(r){return d(r)}readIncidents(r,e){return u(e.saPolylines)}readServiceAreaPolygons(r,e){return u(e.saPolygons)}};r([o({type:[a]})],f.prototype,\"facilities\",void 0),r([t(\"facilities\")],f.prototype,\"readFacilities\",null),r([o({type:[m]})],f.prototype,\"messages\",void 0),r([o({type:[a]})],f.prototype,\"pointBarriers\",void 0),r([t(\"pointBarriers\",[\"barriers\"])],f.prototype,\"readPointBarriers\",null),r([o({type:[n]})],f.prototype,\"polylineBarriers\",void 0),r([t(\"polylineBarriers\")],f.prototype,\"readPolylineBarriers\",null),r([o({type:[l]})],f.prototype,\"polygonBarriers\",void 0),r([t(\"polygonBarriers\")],f.prototype,\"readPolygonBarriers\",null),r([o({type:[c]})],f.prototype,\"serviceAreaPolylines\",void 0),r([t(\"serviceAreaPolylines\",[\"saPolylines\"])],f.prototype,\"readIncidents\",null),r([o({type:[c]})],f.prototype,\"serviceAreaPolygons\",void 0),r([t(\"serviceAreaPolygons\",[\"saPolygons\"])],f.prototype,\"readServiceAreaPolygons\",null),f=r([s(\"esri.tasks.support.ServiceAreaSolveResult\")],f);var g=f;export default g;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{resolve as s}from\"../core/promiseUtils.js\";import o from\"../request.js\";import{normalizeCentralMeridian as i}from\"../geometry/support/normalizeUtils.js\";import a from\"./Task.js\";import{createQueryParamsHelper as p}from\"../core/queryUtils.js\";import{NAServiceDescriptionMixin as l}from\"./mixins/NAServiceDescription.js\";import c from\"./support/ServiceAreaSolveResult.js\";const n=p({accumulateAttributes:{name:\"accumulateAttributeNames\"},attributeParameterValues:!0,defaultBreaks:!0,facilities:!0,outSpatialReference:{name:\"outSR\",getter:e=>e.outSpatialReference.wkid},pointBarriers:{name:\"barriers\"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:\"restrictionAttributeNames\"},returnPointBarriers:{name:\"returnBarriers\"},travelMode:!0});let u=class extends(l(a)){constructor(e){super(e),this.url=null}solve(e,r){const t=[],a=[],p={},l={};return e.facilities&&e.facilities.features&&this._collectGeometries(e.facilities.features,a,\"facilities.features\",p),e.pointBarriers&&e.pointBarriers.features&&this._collectGeometries(e.pointBarriers.features,a,\"pointBarriers.features\",p),e.polylineBarriers&&e.polylineBarriers.features&&this._collectGeometries(e.polylineBarriers.features,a,\"polylineBarriers.features\",p),e.polygonBarriers&&e.polygonBarriers.features&&this._collectGeometries(e.polygonBarriers.features,a,\"polygonBarriers.features\",p),i(a).then((e=>{for(const r in p){const s=p[r];t.push(r),l[r]=e.slice(s[0],s[1])}return this._isInputGeometryZAware(l,t)?this.getServiceDescription():s({dontCheck:!0})})).then((s=>{(\"dontCheck\"in s?s.dontCheck:s.hasZ)||this._dropZValuesOffInputGeometry(l,t);for(const r in l)l[r].forEach(((t,s)=>{e.get(r)[s].geometry=t}));let i={query:{...this.parsedUrl.query,f:\"json\",...n.toQueryParams(e)}};return(this.requestOptions||r)&&(i={...this.requestOptions,...r,...i}),o(this.parsedUrl.path+\"/solveServiceArea\",i)})).then((e=>c.fromJSON(e.data)))}_collectGeometries(e,r,t,s){s[t]=[r.length,r.length+e.length],e.forEach((e=>{r.push(e.geometry)}))}};e([r()],u.prototype,\"url\",void 0),u=e([t(\"esri.tasks.ServiceAreaTask\")],u);var m=u;export default m;\n"],"sourceRoot":""}