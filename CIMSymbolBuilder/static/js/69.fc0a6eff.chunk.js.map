{"version":3,"sources":["../node_modules/@arcgis/core/layers/graphics/data/BoundsStore.js","../node_modules/@arcgis/core/layers/graphics/data/optimizedFeatureQueryEngineAdapter.js","../node_modules/@arcgis/core/layers/graphics/data/FeatureStore.js","../node_modules/@arcgis/core/core/number.js","../node_modules/@arcgis/core/layers/graphics/sources/csv/csv.js","../node_modules/@arcgis/core/layers/graphics/sources/support/CSVSourceWorker.js"],"names":["d","minX","minY","maxX","maxY","n","constructor","this","_indexInvalid","_boundsToLoad","_boundsById","Map","_idByBounds","_index","i","s","_loadIndex","Array","size","forEach","clear","load","length","filter","has","delete","get","remove","forEachInBounds","search","invalidateIndex","set","push","o","getObjectId","t","objectId","getAttributes","attributes","getAttribute","e","cloneWithGeometry","r","getGeometry","geometry","getCentroid","centroid","hasZ","hasM","geometryInfo","_boundsStore","_featuresById","_markedIds","Set","events","featureAdapter","h","geometryType","numFeatures","Math","min","max","coords","featureCount","vertexCount","add","_add","_emitChanged","addMany","removeById","_remove","removeManyById","forEachBounds","getFeature","startMarkingUsedFeatures","sweep","emit","getLogger","error","feature","displayId","onFeatureAdd","a","onFeatureRemove","ar","bs","ca","cs","da","de","el","en","es","et","fi","fr","he","hi","hr","hu","id","it","ja","ko","lt","lv","mk","nb","nl","pl","pt","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh","split","decimal","group","pattern","locale","customs","isNaN","abs","l","indexOf","Error","c","match","fractional","places","replace","substring","round","Number","toFixed","String","lastIndexOf","padEnd","substr","pop","padStart","p","u","f","slice","reverse","join","regexp","signed","separator","strict","exponent","groupSize","groupSize2","test","eSigned","factor","RegExp","exec","NaN","trim","value","x","done","g","next","T","j","w","E","D","q","S","y","v","m","C","isInteger","isFinite","floor","_fieldsIndex","_queryEngine","destroy","_fetch","url","_checkProjection","parsing","spatialReference","_parse","_createQueryEngine","layerDefinition","extent","fullExtent","timeInfo","start","end","timeExtent","executeQuery","signal","executeQueryForCount","executeQueryForIds","executeQueryForExtent","path","query","responseType","data","columnDelimiter","locationInfo","latitudeFieldName","latitudeField","longitudeFieldName","longitudeField","_","csv","name","drawingInfo","objectIdField","fields","xmin","POSITIVE_INFINITY","ymin","xmax","NEGATIVE_INFINITY","ymax","wkid","_inferLocationInfo","_inferFields","toLowerCase","some","type","alias","editable","nullable","unshift","startTimeField","endTimeField","trackIdField","find","b","map","_inferFieldType","Date","_isValidDate","reduce","Object","prototype","toString","call","getTime","F","_parseCoordinateValue","WGS84","I","V","N","cacheSpatialQueries","featureStore","k","parseFloat"],"mappings":"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","file":"static/js/69.fc0a6eff.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport s from\"../../../core/has.js\";import{r as i}from\"../../../chunks/rbush.js\";const d={minX:0,minY:0,maxX:0,maxY:0};class n{constructor(){this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=i(9,s(\"csp-restrictions\")?s=>({minX:s[0],minY:s[1],maxX:s[2],maxY:s[3]}):[\"[0]\",\"[1]\",\"[2]\",\"[3]\"]),this._loadIndex=()=>{if(this._indexInvalid){const s=new Array(this._idByBounds.size);let i=0;this._idByBounds.forEach(((d,n)=>{s[i++]=n})),this._indexInvalid=!1,this._index.clear(),this._index.load(s)}else this._boundsToLoad.length&&(this._index.load(this._boundsToLoad.filter((s=>this._idByBounds.has(s)))),this._boundsToLoad.length=0)}}clear(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}delete(s){const i=this._boundsById.get(s);this._boundsById.delete(s),i&&(this._idByBounds.delete(i),this._indexInvalid||this._index.remove(i))}forEachInBounds(s,i){this._loadIndex();for(const n of function(s,i){return d.minX=i[0],d.minY=i[1],d.maxX=i[2],d.maxY=i[3],s.search(d)}(this._index,s))i(this._idByBounds.get(n))}get(s){return this._boundsById.get(s)}has(s){return this._boundsById.has(s)}invalidateIndex(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}set(s,i){if(!this._indexInvalid){const i=this._boundsById.get(s);i&&(this._index.remove(i),this._idByBounds.delete(i))}this._boundsById.set(s,i),i&&(this._idByBounds.set(i,s),this._indexInvalid||(this._boundsToLoad.push(i),this._boundsToLoad.length>5e4&&this._loadIndex()))}}export{n as BoundsStore};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"../OptimizedFeature.js\";import e from\"../OptimizedGeometry.js\";import{getCentroidOptimizedGeometry as r}from\"../centroid.js\";const o={getObjectId:t=>t.objectId,getAttributes:t=>t.attributes,getAttribute:(t,e)=>t.attributes[e],cloneWithGeometry:(e,r)=>new t(r,e.attributes,null,e.objectId),getGeometry:t=>t.geometry,getCentroid:(t,o)=>(t.centroid||(t.centroid=r(new e,t.geometry,o.hasZ,o.hasM)),t.centroid)};export default o;export{o as optimizedFeatureQueryEngineAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import t from\"../../../core/Logger.js\";import r from\"../../../core/Error.js\";import s from\"../../../core/Evented.js\";import{create as o,NEGATIVE_INFINITY as i}from\"../../../geometry/support/aaBoundingRect.js\";import{getBoundsOptimizedGeometry as a}from\"../featureConversionUtils.js\";import{fromRect as d}from\"../../../geometry/support/aaBoundingBox.js\";import{BoundsStore as n}from\"./BoundsStore.js\";import{optimizedFeatureQueryEngineAdapter as h}from\"./optimizedFeatureQueryEngineAdapter.js\";export default class{constructor(e){this.geometryInfo=e,this._boundsStore=new n,this._featuresById=new Map,this._markedIds=new Set,this.events=new s,this.featureAdapter=h}get geometryType(){return this.geometryInfo.geometryType}get hasM(){return this.geometryInfo.hasM}get hasZ(){return this.geometryInfo.hasZ}get numFeatures(){return this._featuresById.size}get fullBounds(){if(!this.numFeatures)return null;const e=o(i);return this._featuresById.forEach((t=>{const r=this._boundsStore.get(t.objectId);r&&(e[0]=Math.min(r[0],e[0]),e[1]=Math.min(r[1],e[1]),e[2]=Math.max(r[2],e[2]),e[3]=Math.max(r[3],e[3]))})),e}get storeStatistics(){let e=0;return this._featuresById.forEach((t=>{t.geometry&&t.geometry.coords&&(e+=t.geometry.coords.length)})),{featureCount:this._featuresById.size,vertexCount:e/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}add(e){this._add(e),this._emitChanged()}addMany(e){for(const t of e)this._add(t);this._emitChanged()}clear(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged()}removeById(e){const t=this._featuresById.get(e);return t?(this._remove(t),this._emitChanged(),t):null}removeManyById(e){this._boundsStore.invalidateIndex();for(const t of e){const e=this._featuresById.get(t);e&&this._remove(e)}this._emitChanged()}forEachBounds(e,t,r){for(const s of e){const e=this._boundsStore.get(s.objectId);e&&t(d(r,e))}}getFeature(e){return this._featuresById.get(e)}has(e){return this._featuresById.has(e)}forEach(e){this._featuresById.forEach((t=>e(t)))}forEachInBounds(e,t){this._boundsStore.forEachInBounds(e,(e=>{t(this._featuresById.get(e))}))}startMarkingUsedFeatures(){this._boundsStore.invalidateIndex(),this._markedIds.clear()}sweep(){let e=!1;this._featuresById.forEach(((t,r)=>{this._markedIds.has(r)||(e=!0,this._remove(t))})),this._markedIds.clear(),e&&this._emitChanged()}_emitChanged(){this.events.emit(\"changed\",void 0)}_add(s){if(!s)return;const i=s.objectId;if(null==i)return void t.getLogger(\"esri.layers.graphics.data.FeatureStore\").error(new r(\"featurestore:invalid-feature\",\"feature id is missing\",{feature:s}));const d=this._featuresById.get(i);let n;if(this._markedIds.add(i),d?(s.displayId=d.displayId,n=this._boundsStore.get(i),this._boundsStore.delete(i)):e(this.onFeatureAdd)&&this.onFeatureAdd(s),!s.geometry||!s.geometry.coords||!s.geometry.coords.length)return this._boundsStore.set(i,null),void this._featuresById.set(i,s);n=a(n||o(),s.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),this._boundsStore.set(i,n),this._featuresById.set(i,s)}_remove(t){return e(this.onFeatureRemove)&&this.onFeatureRemove(t),this._markedIds.delete(t.objectId),this._boundsStore.delete(t.objectId),this._featuresById.delete(t.objectId),t}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{escapeRegExpString as e}from\"./string.js\";import{getLocale as n}from\"../intl/locale.js\";const t={ar:[\".\",\",\"],bs:[\",\",\".\"],ca:[\",\",\".\"],cs:[\",\",\" \"],da:[\",\",\".\"],de:[\",\",\".\"],\"de-ch\":[\".\",\"’\"],el:[\",\",\".\"],en:[\".\",\",\"],\"en-au\":[\".\",\",\"],es:[\",\",\".\"],\"es-mx\":[\".\",\",\"],et:[\",\",\" \"],fi:[\",\",\" \"],fr:[\",\",\" \"],\"fr-ch\":[\",\",\" \"],he:[\".\",\",\"],hi:[\".\",\",\",\"#,##,##0.###\"],hr:[\",\",\".\"],hu:[\",\",\" \"],id:[\",\",\".\"],it:[\",\",\".\"],\"it-ch\":[\".\",\"’\"],ja:[\".\",\",\"],ko:[\".\",\",\"],lt:[\",\",\" \"],lv:[\",\",\" \"],mk:[\",\",\".\"],nb:[\",\",\" \"],nl:[\",\",\".\"],pl:[\",\",\" \"],pt:[\",\",\".\"],\"pt-pt\":[\",\",\" \"],ro:[\",\",\".\"],ru:[\",\",\" \"],sk:[\",\",\" \"],sl:[\",\",\".\"],sr:[\",\",\".\"],sv:[\",\",\" \"],th:[\".\",\",\"],tr:[\",\",\".\"],uk:[\",\",\" \"],vi:[\",\",\".\"],zh:[\".\",\",\"]};function r(e){e||(e=n());let r=e in t;if(!r){const n=e.split(\"-\");n.length>1&&n[0]in t&&(e=n[0],r=!0),r||(e=\"en\")}const[o,i,s=\"#,##0.###\"]=t[e];return{decimal:o,group:i,pattern:s}}function o(e,n){const t=r((n={...n}).locale);n.customs=t;const o=n.pattern||t.pattern;return isNaN(e)||Math.abs(e)===1/0?null:function(e,n,t){const r=(t=t||{}).customs.group,o=t.customs.decimal,s=n.split(\";\"),l=s[0];if(-1!==(n=s[e<0?1:0]||\"-\"+l).indexOf(\"%\"))e*=100;else if(-1!==n.indexOf(\"‰\"))e*=1e3;else{if(-1!==n.indexOf(\"¤\"))throw new Error(\"currency notation not supported\");if(-1!==n.indexOf(\"E\"))throw new Error(\"exponential notation not supported\")}const c=i,a=l.match(c);if(!a)throw new Error(\"unable to find a number expression in pattern: \"+n);!1===t.fractional&&(t.places=0);return n.replace(c,function(e,n,t){!0===(t=t||{}).places&&(t.places=0);t.places===1/0&&(t.places=6);const r=n.split(\".\"),o=\"string\"==typeof t.places&&t.places.indexOf(\",\");let i=t.places;o?i=t.places.substring(o+1):i>=0||(i=(r[1]||[]).length);t.round<0||(e=Number(e.toFixed(Number(i))));const s=String(Math.abs(e)).split(\".\"),l=s[1]||\"\";if(r[1]||t.places){o&&(t.places=t.places.substring(0,o));const e=void 0!==t.places?t.places:r[1]&&r[1].lastIndexOf(\"0\")+1;e>l.length&&(s[1]=l.padEnd(Number(e),\"0\")),i<l.length&&(s[1]=l.substr(0,Number(i)))}else s[1]&&s.pop();const c=r[0].replace(\",\",\"\");let a=c.indexOf(\"0\");-1!==a&&(a=c.length-a,a>s[0].length&&(s[0]=s[0].padStart(a,\"0\")),-1===c.indexOf(\"#\")&&(s[0]=s[0].substr(s[0].length-a)));let p,u,f=r[0].lastIndexOf(\",\");if(-1!==f){p=r[0].length-f-1;const e=r[0].substr(0,f);f=e.lastIndexOf(\",\"),-1!==f&&(u=e.length-f-1)}const d=[];for(let e=s[0];e;){const n=e.length-p;d.push(n>0?e.substr(n):e),e=n>0?e.slice(0,n):\"\",u&&(p=u,u=void 0)}return s[0]=d.reverse().join(t.group||\",\"),s.join(t.decimal||\".\")}(e,a[0],{decimal:o,group:r,places:t.places,round:t.round}))}(e,o,n)}const i=/[#0,]*[#0](?:\\.0*#*)?/;function s(e){return l(e).regexp}function l(n){const t=r((n=n||{}).locale),o=n.pattern||t.pattern,s=t.group,l=t.decimal;let c=1;if(-1!==o.indexOf(\"%\"))c/=100;else if(-1!==o.indexOf(\"‰\"))c/=1e3;else if(-1!==o.indexOf(\"¤\"))throw new Error(\"currency notation not supported\");const u=o.split(\";\");1===u.length&&u.push(\"-\"+u[0]);return{regexp:p(u,(function(t){return(t=\"(?:\"+e(t,\".\")+\")\").replace(i,(function(e){const t={signed:!1,separator:n.strict?s:[s,\"\"],fractional:n.fractional,decimal:l,exponent:!1},r=e.split(\".\");let o=n.places;1===r.length&&1!==c&&(r[1]=\"###\"),1===r.length||0===o?t.fractional=!1:(void 0===o&&(o=n.pattern?r[1].lastIndexOf(\"0\")+1:1/0),o&&null==n.fractional&&(t.fractional=!0),!n.places&&o<r[1].length&&(o+=\",\"+r[1].length),t.places=o);const i=r[0].split(\",\");return i.length>1&&(t.groupSize=i.pop().length,i.length>1&&(t.groupSize2=i.pop().length)),\"(\"+function(e){\"places\"in(e=e||{})||(e.places=1/0);\"string\"!=typeof e.decimal&&(e.decimal=\".\");\"fractional\"in e&&!/^0/.test(String(e.places))||(e.fractional=[!0,!1]);\"exponent\"in e||(e.exponent=[!0,!1]);\"eSigned\"in e||(e.eSigned=[!0,!1]);const n=a(e),t=p(e.fractional,(function(n){let t=\"\";return n&&0!==e.places&&(t=\"\\\\\"+e.decimal,e.places===1/0?t=\"(?:\"+t+\"\\\\d+)?\":t+=\"\\\\d{\"+e.places+\"}\"),t}),!0),r=p(e.exponent,(function(n){return n?\"([eE]\"+a({signed:e.eSigned})+\")\":\"\"}));let o=n+t;t&&(o=\"(?:(?:\"+o+\")|(?:\"+t+\"))\");return o+r}(t)+\")\"}))}),!0).replace(/[\\xa0 ]/g,\"[\\\\s\\\\xa0]\"),group:s,decimal:l,factor:c}}function c(e,n){const t=l(n),r=new RegExp(\"^\"+t.regexp+\"$\").exec(e);if(!r)return NaN;let o=r[1];if(!r[1]){if(!r[2])return NaN;o=r[2],t.factor*=-1}return o=o.replace(new RegExp(\"[\"+t.group+\"\\\\s\\\\xa0]\",\"g\"),\"\").replace(t.decimal,\".\"),Number(o)*t.factor}function a(n){\"signed\"in(n=n||{})||(n.signed=[!0,!1]),\"separator\"in n?\"groupSize\"in n||(n.groupSize=3):n.separator=\"\";return p(n.signed,(function(e){return e?\"[-+]\":\"\"}),!0)+p(n.separator,(function(t){if(!t)return\"(?:\\\\d+)\";\" \"===(t=e(t))?t=\"\\\\s\":\" \"===t&&(t=\"\\\\s\\\\xa0\");const r=n.groupSize,o=n.groupSize2;if(o){const e=\"(?:0|[1-9]\\\\d{0,\"+(o-1)+\"}(?:[\"+t+\"]\\\\d{\"+o+\"})*[\"+t+\"]\\\\d{\"+r+\"})\";return r-o>0?\"(?:\"+e+\"|(?:0|[1-9]\\\\d{0,\"+(r-1)+\"}))\":e}return\"(?:0|[1-9]\\\\d{0,\"+(r-1)+\"}(?:[\"+t+\"]\\\\d{\"+r+\"})*)\"}),!0)}const p=function(e,n,t){if(!(e instanceof Array))return n(e);const r=[];for(let t=0;t<e.length;t++)r.push(n(e[t]));return u(r.join(\"|\"),t)},u=function(e,n){return\"(\"+(n?\"?:\":\"\")+e+\")\"};export{l as _parseInfo,o as format,r as getCustoms,c as parse,s as regexp};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst n=/^\\s*\"([\\S\\s]*)\"\\s*$/,t=/\"\"/g,e=[\",\",\" \",\";\",\"|\",\"\\t\"];function o(n,t){const e={},o=n.length;for(let r=0;r<o;r++)e[n[r]]=t[r];return e}function*r(n,t,e){let o=0;for(;o<=n.length;){const r=n.indexOf(t,o),i=n.substring(o,r>-1?r:void 0);o+=i.length+1,e&&!i.trim()||(yield i)}}function i(n){return r(n,\"\\n\",!0)}function f(n,t){return r(n,t,!1)}function c(n){const t=n.trim();let o=0,r=\"\";for(const n of e){const e=t.split(n).length;e>o&&(o=e,r=n)}return\"\"===r?null:r}function*s(e,r,i){let c=\"\",s=\"\",l=0,d=[];n:for(;;){const{value:x,done:g}=e.next();if(g)return;const h=f(x,i);t:for(;;){const{value:e,done:o}=h.next();if(o)break t;if(c+=s+e,s=\"\",l+=u(e),l%2==0){if(l>0){const e=n.exec(c);if(!e){d=[],c=\"\",l=0;continue n}d.push(e[1].replace(t,'\"'))}else d.push(c);c=\"\",l=0}else s=i}0===l?(yield o(r,d),d=[]):s=\"\\n\"}}function u(n){let t=0,e=0;for(e=n.indexOf('\"',e);e>=0;)t++,e=n.indexOf('\"',e+1);return t}export{c as inferDelimiter,s as parseRows,f as readRowParts,i as readRows};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/has.js\";import{mixin as t}from\"../../../../core/lang.js\";import i from\"../../../../core/Error.js\";import{urlToObject as n}from\"../../../../core/urlUtils.js\";import{all as r}from\"../../../../core/promiseUtils.js\";import{equals as o,isWebMercator as l,WGS84 as s}from\"../../../../geometry/support/spatialReferenceUtils.js\";import a from\"../../../../geometry/SpatialReference.js\";import{lngLatToXY as d}from\"../../../../geometry/support/webMercatorUtils.js\";import\"../../../../geometry.js\";import u from\"../../../../request.js\";import{projectMany as c}from\"../../../../geometry/projection.js\";import{_parseInfo as m}from\"../../../../core/number.js\";import f from\"../../OptimizedFeature.js\";import p from\"../../OptimizedGeometry.js\";import y from\"../../../support/FieldsIndex.js\";import{jsonAdapter as g}from\"../../../../geometry/geometryAdapters/json.js\";import{checkProjectionSupport as F}from\"../../data/projectionSupport.js\";import{createDrawingInfo as h}from\"./clientSideDefaults.js\";import I from\"../../data/FeatureStore.js\";import N from\"../../data/QueryEngine.js\";import{readRows as _,inferDelimiter as x,parseRows as b}from\"../csv/csv.js\";const T=h(\"esriGeometryPoint\"),j=[\"esriFieldTypeSmallInteger\",\"esriFieldTypeInteger\",\"esriFieldTypeSingle\",\"esriFieldTypeDouble\",\"esriFieldTypeLong\"],w=[\"lat\",\"latitude\",\"latitude83\",\"latdecdeg\",\"lat_dd\",\"y\",\"ycenter\",\"point-y\"],E=[\"lon\",\"lng\",\"long\",\"longitude\",\"longitude83\",\"longdecdeg\",\"long_dd\",\"x\",\"xcenter\",\"point-x\"],D=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i,q=[0,0];class S{constructor(e,t){this.x=e,this.y=t}}const v=function(){const e=m(),t=new RegExp(\"^\"+e.regexp+\"$\"),i=new RegExp(\"[\"+e.group+\"\\\\s\\\\xa0]\",\"g\"),n=e.factor;return function(r){const o=t.exec(r);if(e.factor=n,!o)return NaN;let l=o[1];if(!o[1]){if(!o[2])return NaN;l=o[2],e.factor*=-1}return l=l.replace(i,\"\").replace(e.decimal,\".\"),+l*e.factor}}(),C=\"isInteger\"in Number?Number.isInteger:e=>\"number\"==typeof e&&isFinite(e)&&Math.floor(e)===e;export default class{constructor(){this._fieldsIndex=null,this._queryEngine=null}destroy(){this._queryEngine&&this._queryEngine&&this._queryEngine.destroy(),this._queryEngine=null,this._fieldsIndex=null}async load(e,t={}){const[i]=await r([this._fetch(e.url,t),this._checkProjection(t&&e.parsing&&e.parsing.spatialReference)]),n=this._parse(i,e.parsing);if(this._queryEngine=this._createQueryEngine(i,n),n.layerDefinition.extent=this._queryEngine.fullExtent,n.layerDefinition.timeInfo){const{start:e,end:t}=this._queryEngine.timeExtent;n.layerDefinition.timeInfo.timeExtent=[e,t]}return n}async applyEdits(){throw new i(\"csv-source:editing-not-supported\",\"applyEdits() is not supported on CSVLayer\")}async queryFeatures(e={},t={}){return this._queryEngine.executeQuery(e,t.signal)}async queryFeatureCount(e={},t={}){return this._queryEngine.executeQueryForCount(e,t.signal)}async queryObjectIds(e={},t={}){return this._queryEngine.executeQueryForIds(e,t.signal)}async queryExtent(e={},t={}){return this._queryEngine.executeQueryForExtent(e,t.signal)}async _fetch(e,t){if(!e)throw new i(\"csv-source:invalid-source\",\"url not defined\");const r=n(e);return(await u(r.path,{query:r.query,responseType:\"text\",signal:t.signal})).data}_parse(e,n={}){const r={columnDelimiter:n.columnDelimiter,layerDefinition:null,locationInfo:{latitudeFieldName:n.latitudeField,longitudeFieldName:n.longitudeField}},o=_(e);let{value:l}=o.next();if(!l)throw new i(\"csv\",\"CSV is empty\",{csv:e});if(l=l.trim(),!n.columnDelimiter){const e=x(l);if(!e)throw new i(\"csv-source:invalid-delimiter\",\"Unable to detect the delimiter from CSV\");r.columnDelimiter=e}const s=l.split(r.columnDelimiter),a=r.layerDefinition={name:\"csv\",drawingInfo:T,geometryType:\"esriGeometryPoint\",objectIdField:null,fields:[],timeInfo:n.timeInfo,extent:{xmin:Number.POSITIVE_INFINITY,ymin:Number.POSITIVE_INFINITY,xmax:Number.NEGATIVE_INFINITY,ymax:Number.NEGATIVE_INFINITY,spatialReference:n.spatialReference||{wkid:102100}}};if(!n.latitudeField||!n.longitudeField){const e=this._inferLocationInfo(s);if(!n.longitudeField&&!e.longitudeFieldName||!n.latitudeField&&!e.latitudeFieldName)throw new i(\"csv\",\"Unable to identify latitudeField and/or longitudeField from CSV\");r.locationInfo={longitudeFieldName:n.longitudeField||e.longitudeFieldName,latitudeFieldName:n.latitudeField||e.latitudeFieldName}}const d=this._inferFields(o,r.columnDelimiter,s,r.locationInfo);if(n.fields&&n.fields.length){const e=new Map;for(const t of n.fields)e.set(t.name.toLowerCase(),t);for(const i of d){const n=e.get(i.name.toLowerCase());if(n){const e=i.name;t(i,n),i.name=e}}}a.fields=d;if(!a.fields.some((e=>\"esriFieldTypeOID\"===e.type&&(a.objectIdField=e.name,!0)))){const e={name:\"__OBJECTID\",alias:\"__OBJECTID\",type:\"esriFieldTypeOID\",editable:!1,nullable:!1};a.objectIdField=e.name,a.fields.unshift(e)}if(this._fieldsIndex=new y(a.fields),a.timeInfo){const e=a.timeInfo;if(e.startTimeField){const t=this._fieldsIndex.get(e.startTimeField);t?(e.startTimeField=t.name,t.type=\"esriFieldTypeDate\"):e.startTimeField=null}if(e.endTimeField){const t=this._fieldsIndex.get(e.endTimeField);t?(e.endTimeField=t.name,t.type=\"esriFieldTypeDate\"):e.endTimeField=null}if(e.trackIdField){const t=this._fieldsIndex.get(e.trackIdField);e.trackIdField=t?t.name:null}e.startTimeField||e.endTimeField||(a.timeInfo=null)}return r}_inferLocationInfo(e){let t=null,i=null;const n=t=>e.find((e=>e.toLowerCase()===t));return E.some((e=>(t=n(e),!!t))),w.some((e=>(i=n(e),!!i))),{longitudeFieldName:t,latitudeFieldName:i}}_inferFields(e,t,i,n){const r=[],o=b(e,i,t),l=[];e:for(;l.length<10;){const{value:e,done:t}=o.next();if(t)break e;l.push(e)}for(const e of i)if(e===n.longitudeFieldName||e===n.latitudeFieldName)r.push({name:e,type:\"esriFieldTypeDouble\",alias:e});else{const t=l.map((t=>t[e])),i=this._inferFieldType(t),n={name:e,type:null,alias:e};switch(i){case\"integer\":n.type=\"esriFieldTypeInteger\";break;case\"double\":n.type=\"esriFieldTypeDouble\";break;case\"date\":n.type=\"esriFieldTypeDate\",n.length=36;break;default:n.type=\"esriFieldTypeString\",n.length=255}r.push(n)}return r}_inferFieldType(e){if(!e.length)return\"string\";const t=/[^+-.,0-9]/;return e.map((e=>{let i=!1;if(\"\"!==e){if(t.test(e))i=!0;else{let t=v(e);if(!isNaN(t))return/[.,]/.test(e)||!C(t)||t>214783647||t<-214783648?\"double\":\"integer\";if(-1===e.indexOf(\"E\"))i=!0;else{if(t=Number(e),!isNaN(t))return\"double\";if(-1===e.indexOf(\",\"))i=!0;else{if(e=e.replace(\",\",\".\"),t=Number(e),!isNaN(t))return\"double\";i=!0}}}if(i){if(!/^[-]?\\d*[.,]?\\d*$/.test(e)){const t=new Date(e);return this._isValidDate(t,e)?\"date\":\"string\"}return\"string\"}return\"string\"}})).reduce(((e,t)=>void 0===e||e===t?t:\"string\"===e||\"string\"===t?\"string\":\"double\"===e||\"double\"===t?\"double\":void 0))}_isValidDate(t,i){if(!t||\"[object Date]\"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))return!1;let n=!0;if(e(\"chrome\")&&/\\d+\\W*$/.test(i)){const e=i.match(/[a-zA-Z]{2,}/);if(e){let t=!1,i=0;for(;!t&&i<=e.length;)t=!D.test(e[i]),i++;n=!t}}return n}_createQueryEngine(e,t){const{latitudeFieldName:i,longitudeFieldName:n}=t.locationInfo,{objectIdField:r,fields:s,extent:u,timeInfo:m}=t.layerDefinition;let y=[];const F=[],h=new Set,x=new Set,T=[];for(const{name:e,type:t}of s)\"esriFieldTypeDate\"===t?h.add(e):j.indexOf(t)>-1&&x.add(e),e!==r&&T.push(e);let w=0;const E=_(e);E.next();const D=b(E,T,t.columnDelimiter);e:for(;;){const{value:e,done:t}=D.next();if(t)break e;const o=this._parseCoordinateValue(e[i]),l=this._parseCoordinateValue(e[n]);if(null!=l&&null!=o&&!isNaN(o)&&!isNaN(l)){e[i]=o,e[n]=l;for(const t in e)if(t!==i&&t!==n)if(h.has(t)){const i=new Date(e[t]);e[t]=this._isValidDate(i,e[t])?i.getTime():null}else if(x.has(t)){const i=v(e[t]);isNaN(i)?e[t]=null:e[t]=i}e[r]=w,w++,y.push(new S(l,o)),F.push(e)}}if(!o({wkid:4326},u.spatialReference))if(l(u.spatialReference))for(const e of y)[e.x,e.y]=d(e.x,e.y,q);else y=c(g,y,a.WGS84,u.spatialReference,null);const C=new I({geometryType:\"esriGeometryPoint\",hasM:!1,hasZ:!1}),V=new N({fields:t.layerDefinition.fields,geometryType:\"esriGeometryPoint\",hasM:!1,hasZ:!1,timeInfo:m,objectIdField:r,spatialReference:u.spatialReference||{wkid:4326},cacheSpatialQueries:!0,featureStore:C}),k=[];for(let e=0;e<y.length;e++){const{x:t,y:i}=y[e],n=F[e];n[r]=e+1,k.push(new f(new p([],[t,i]),n,null,n[r]))}return C.addMany(k),V}_parseCoordinateValue(e){if(null==e||\"\"===e)return null;let t=v(e);return(isNaN(t)||Math.abs(t)>181)&&(t=parseFloat(e)),t}async _checkProjection(e){try{await F(s,e)}catch{throw new i(\"csv-layer\",\"Projection not supported\")}}}export{w as csvLatitudeFieldNames,E as csvLongitudeFieldNames};\n"],"sourceRoot":""}