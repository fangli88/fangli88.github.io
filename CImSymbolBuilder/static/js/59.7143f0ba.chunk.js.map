{"version":3,"sources":["../node_modules/@arcgis/core/tasks/support/GPMessage.js","../node_modules/@arcgis/core/core/queryUtils.js","../node_modules/@arcgis/core/tasks/mixins/NAServiceDescription.js","../node_modules/@arcgis/core/tasks/support/NAMessage.js","../node_modules/@arcgis/core/tasks/support/DirectionsFeatureSet.js","../node_modules/@arcgis/core/tasks/support/RouteResult.js","../node_modules/@arcgis/core/tasks/support/RouteResultsContainer.js","../node_modules/@arcgis/core/tasks/RouteTask.js"],"names":["p","s","esriJobMessageTypeInformative","esriJobMessageTypeProcessDefinition","esriJobMessageTypeProcessStart","esriJobMessageTypeProcessStop","esriJobMessageTypeWarning","esriJobMessageTypeError","esriJobMessageTypeEmpty","esriJobMessageTypeAbort","i","t","constructor","r","super","this","description","type","e","String","json","write","prototype","read","o","a","_options","toQueryParams","toJSON","Object","keys","forEach","n","name","getter","Array","isArray","join","JSON","stringify","l","_serviceDescriptionPromise","_fetchServiceDescription","url","parsedUrl","data","query","f","supportedTravelModes","length","id","itemId","currentVersion","async","defaultTravelMode","error","substring","indexOf","owningSystemUrl","test","path","c","serviceName","u","results","paramName","value","features","attributes","parse","TravelMode","push","_isInputGeometryZAware","hasZ","_dropZValuesOffInputGeometry","z","console","log","0","1","2","3","50","100","101","200","extent","geometryType","routeId","routeName","totalDriveTime","totalLength","totalTime","readFeatures","_decompressFeatureGeometry","summary","envelope","spatialReference","fromJSON","map","m","geometry","strings","events","x","point","y","ETA","arriveTimeUTC","get","_mergePolylinesToSinglePath","_decompressGeometry","compressedGeometry","d","g","h","match","parseInt","paths","hasM","concat","source","readOnly","dependsOn","directions","route","stops","barriers","messages","pointBarriers","polylineBarriers","polygonBarriers","routeResults","readPointBarriers","readPolylineBarriers","readPolygonBarriers","aliasOf","accumulateAttributes","attributeParameterValues","directionsTimeAttribute","impedanceAttribute","outSpatialReference","wkid","restrictionAttributes","travelMode","solve","_collectGeometries","then","slice","getServiceDescription","dontCheck","requestOptions","endsWith","_handleSolveResponse","routes","Name","RouteName","splice","B"],"mappings":"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","file":"static/js/59.7143f0ba.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{JSONMap as s}from\"../../core/jsonMap.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";const p=new s({esriJobMessageTypeInformative:\"informative\",esriJobMessageTypeProcessDefinition:\"process-definition\",esriJobMessageTypeProcessStart:\"process-start\",esriJobMessageTypeProcessStop:\"process-stop\",esriJobMessageTypeWarning:\"warning\",esriJobMessageTypeError:\"error\",esriJobMessageTypeEmpty:\"empty\",esriJobMessageTypeAbort:\"abort\"});let i=class extends t{constructor(r){super(r),this.description=null,this.type=null}};r([e({type:String,json:{write:!0}})],i.prototype,\"description\",void 0),r([e({type:String,json:{read:p.read,write:p.write}})],i.prototype,\"type\",void 0),i=r([o(\"esri.tasks.support.GPMessage\")],i);var a=i;export default a;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nclass t{constructor(t={}){this._options=t}toQueryParams(t){if(!t)return null;const e=t.toJSON(),o={};return Object.keys(e).forEach((t=>{const n=this._options[t];if(n){const r=\"boolean\"!=typeof n&&n.name?n.name:t,s=\"boolean\"!=typeof n&&n.getter?n.getter(e):e[t];null!=s&&(o[r]=(t=>{if(!Array.isArray(t))return!1;const[e]=t;return\"number\"==typeof e||\"string\"==typeof e})(s)?s.join(\",\"):\"object\"==typeof s?JSON.stringify(s):s)}else o[t]=e[t]}),this),o}}function e(e){return new t(e)}export{e as createQueryParamsHelper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{getDeepValue as r}from\"../../core/object.js\";import{isSome as t}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"../../core/Error.js\";import{urlToObject as i}from\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../request.js\";import l from\"../Task.js\";const n=l=>{let n=class extends l{async getServiceDescription(){return this._serviceDescriptionPromise||(this._serviceDescriptionPromise=this._fetchServiceDescription()),this._serviceDescriptionPromise}async _fetchServiceDescription(){if(!this.url||!this.parsedUrl)throw new o(\"network-service:missing-url\",\"Url to Network service is missing\");const e=this.url,{data:t}=await a(e,{query:{f:\"json\"}});t.supportedTravelModes||(t.supportedTravelModes=[]);for(let e=0;e<t.supportedTravelModes.length;e++)t.supportedTravelModes[e].id||(t.supportedTravelModes[e].id=t.supportedTravelModes[e].itemId);const s=t.currentVersion>=10.4?async function(e){try{const{data:{supportedTravelModes:r,defaultTravelMode:t}}=await a(e+(\"/\"===e[e.length-1]?\"\":\"/\")+\"retrieveTravelModes\",{query:{f:\"json\"}});return{supportedTravelModes:r,defaultTravelMode:t}}catch(e){throw new o(\"network-service:retrieveTravelModes\",\"Could not get to the NAServer's retrieveTravelModes.\",{error:e})}}(e):async function(e){const{data:t}=await a(e.substring(0,e.indexOf(\"/rest/\")+6)+\"info\",{query:{f:\"json\"}});if(!t||!t.owningSystemUrl)return{supportedTravelModes:[],defaultTravelMode:null};e=t.owningSystemUrl;const{data:s}=await a(e+(\"/\"===e[e.length-1]?\"\":\"/\")+\"sharing/rest/portals/self\",{query:{f:\"json\"}}),o=r(\"helperServices.routingUtilities.url\",s);if(!o)return{supportedTravelModes:[],defaultTravelMode:null};const l=i(e),n=/\\/solveClosestFacility$/.test(l.path)?\"Route\":/\\/solveClosestFacility$/.test(l.path)?\"ClosestFacility\":\"ServiceAreas\",c=await a(o+(\"/\"===o[o.length-1]?\"\":\"/\")+\"GetTravelModes/execute\",{query:{f:\"json\",serviceName:n}}),u=[];let p=null;if(c&&c.data&&c.data.results&&c.data.results.length){const e=c.data.results;for(const r of e)if(\"supportedTravelModes\"===r.paramName){if(r.value&&r.value.features)for(const{attributes:e}of r.value.features)if(e){const r=JSON.parse(e.TravelMode);u.push(r)}}else\"defaultTravelMode\"===r.paramName&&(p=r.value)}return{supportedTravelModes:u,defaultTravelMode:p}}(e),{defaultTravelMode:l,supportedTravelModes:n}=await s;return t.defaultTravelMode=l,t.supportedTravelModes=n,t}_isInputGeometryZAware(e,r){for(let s=0;s<r.length;s++){const o=e[r[s]];if(o&&o.length)for(const e of o)if(t(e)&&e.hasZ)return!0}return!1}_dropZValuesOffInputGeometry(e,r){for(let t=0;t<r.length;t++){const s=e[r[t]];if(s&&s.length)for(const e of s)e.z=void 0}console.log(\"The remote Network Analysis service is powered by a network dataset which is not Z-aware.\\nZ-coordinates of the input geometry are ignored.\")}};return n=e([s(\"esri.tasks.mixins.NAServiceDescription\")],n),n};let c=class extends(n(l)){};c=e([s(\"esri.tasks.mixins.NAServiceDescription\")],c);export{c as NAServiceDescription,n as NAServiceDescriptionMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{JSONMap as s}from\"../../core/jsonMap.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import t from\"./GPMessage.js\";const p=new s({0:\"informative\",1:\"process-definition\",2:\"process-start\",3:\"process-stop\",50:\"warning\",100:\"error\",101:\"empty\",200:\"abort\"});let i=class extends t{constructor(r){super(r),this.type=null}};r([o({type:String,json:{read:p.read,write:p.write}})],i.prototype,\"type\",void 0),i=r([e(\"esri.tasks.support.NAMessage\")],i);var c=i;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{unwrap as t}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{reader as o}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../geometry/SpatialReference.js\";import p from\"../../geometry/Point.js\";import n from\"../../geometry/Extent.js\";import i from\"../../geometry/Polyline.js\";import\"../../geometry.js\";import m from\"../../Graphic.js\";import l from\"./FeatureSet.js\";let u=class extends l{constructor(e){super(e),this.extent=null,this.features=null,this.geometryType=\"polyline\",this.routeId=null,this.routeName=null,this.totalDriveTime=null,this.totalLength=null,this.totalTime=null}readFeatures(e,r){(e||[]).forEach((e=>{this._decompressFeatureGeometry(e,r.summary.envelope.spatialReference)}));const o=a.fromJSON(r.spatialReference);return e.map((e=>{const r=m.fromJSON(e),s=e.geometry&&e.geometry.spatialReference;return r.geometry&&!s&&(t(r.geometry).spatialReference=o),r.strings=e.strings,r.events=(e.events||[]).map((t=>{const r=new m({geometry:new p({x:t.point.x,y:t.point.y,z:t.point.z,hasZ:void 0!==t.point.z,spatialReference:e.geometry&&e.geometry.spatialReference}),attributes:{ETA:t.ETA,arriveTimeUTC:t.arriveTimeUTC}});return r.strings=t.strings,r})),r}))}get mergedGeometry(){if(!this.features)return null;const e=this.features.map((({geometry:e})=>t(e))),r=this.get(\"extent.spatialReference\");return this._mergePolylinesToSinglePath(e,r)}get strings(){return this.features.map((({strings:e})=>e))}_decompressFeatureGeometry(e,t){e.geometry=this._decompressGeometry(e.compressedGeometry,t)}_decompressGeometry(e,t){let r=0,o=0,s=0,a=0;const p=[];let n,i,m,l,u,c,y,f,d=0,g=0,h=0;if(u=e.match(/((\\+|\\-)[^\\+\\-\\|]+|\\|)/g),u||(u=[]),0===parseInt(u[d],32)){d=2;const e=parseInt(u[d],32);d++,c=parseInt(u[d],32),d++,1&e&&(g=u.indexOf(\"|\")+1,y=parseInt(u[g],32),g++),2&e&&(h=u.indexOf(\"|\",g)+1,f=parseInt(u[h],32),h++)}else c=parseInt(u[d],32),d++;for(;d<u.length&&\"|\"!==u[d];){n=parseInt(u[d],32)+r,d++,r=n,i=parseInt(u[d],32)+o,d++,o=i;const e=[n/c,i/c];g&&(l=parseInt(u[g],32)+s,g++,s=l,e.push(l/y)),h&&(m=parseInt(u[h],32)+a,h++,a=m,e.push(m/f)),p.push(e)}return{paths:[p],hasZ:g>0,hasM:h>0,spatialReference:t}}_mergePolylinesToSinglePath(e,t){let r=[];(e||[]).forEach((e=>{e.paths.forEach((e=>{r=r.concat(e)}))}));const o=[];let s=[0,0];return r.forEach((e=>{e[0]===s[0]&&e[1]===s[1]||(o.push(e),s=e)})),new i({paths:[o]},t)}};e([r({type:n,json:{read:{source:\"summary.envelope\"}}})],u.prototype,\"extent\",void 0),e([r()],u.prototype,\"features\",void 0),e([o(\"features\")],u.prototype,\"readFeatures\",null),e([r()],u.prototype,\"geometryType\",void 0),e([r({readOnly:!0,dependsOn:[\"features\",\"extent.spatialReference\"]})],u.prototype,\"mergedGeometry\",null),e([r()],u.prototype,\"routeId\",void 0),e([r()],u.prototype,\"routeName\",void 0),e([r({value:null,readOnly:!0,dependsOn:[\"features\"]})],u.prototype,\"strings\",null),e([r({json:{read:{source:\"summary.totalDriveTime\"}}})],u.prototype,\"totalDriveTime\",void 0),e([r({json:{read:{source:\"summary.totalLength\"}}})],u.prototype,\"totalLength\",void 0),e([r({json:{read:{source:\"summary.totalTime\"}}})],u.prototype,\"totalTime\",void 0),u=e([s(\"esri.tasks.support.DirectionsFeatureSet\")],u);var c=u;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";import e from\"../../Graphic.js\";import p from\"./DirectionsFeatureSet.js\";let i=class extends s{constructor(o){super(o),this.directions=null,this.route=null,this.routeName=null,this.stops=null}};o([r({type:p,json:{write:!0}})],i.prototype,\"directions\",void 0),o([r({type:e,json:{write:!0}})],i.prototype,\"route\",void 0),o([r({type:String,json:{write:!0}})],i.prototype,\"routeName\",void 0),o([r({type:[e],json:{write:!0}})],i.prototype,\"stops\",void 0),i=o([t(\"esri.tasks.support.RouteResult\")],i);var u=i;export default u;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{reader as e}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";import p from\"../../Graphic.js\";import i from\"./FeatureSet.js\";import a from\"./NAMessage.js\";import l from\"./RouteResult.js\";function n(r){return r&&i.fromJSON(r).features.map((r=>r))}let u=class extends t{constructor(r){super(r),this.barriers=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.routeResults=null}readPointBarriers(r,o){return n(o.barriers||o.pointBarriers)}readPolylineBarriers(r){return n(r)}readPolygonBarriers(r){return n(r)}};r([o({aliasOf:\"pointBarriers\"})],u.prototype,\"barriers\",void 0),r([o({type:[a]})],u.prototype,\"messages\",void 0),r([o({type:[p]})],u.prototype,\"pointBarriers\",void 0),r([e(\"pointBarriers\",[\"barriers\",\"pointBarriers\"])],u.prototype,\"readPointBarriers\",null),r([o({type:[p]})],u.prototype,\"polylineBarriers\",void 0),r([e(\"polylineBarriers\")],u.prototype,\"readPolylineBarriers\",null),r([o({type:[p]})],u.prototype,\"polygonBarriers\",void 0),r([e(\"polygonBarriers\")],u.prototype,\"readPolygonBarriers\",null),r([o({type:[l]})],u.prototype,\"routeResults\",void 0),u=r([s(\"esri.tasks.support.RouteResultsContainer\")],u);var c=u;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{resolve as t}from\"../core/promiseUtils.js\";import s from\"../request.js\";import{normalizeCentralMeridian as o}from\"../geometry/support/normalizeUtils.js\";import i from\"./Task.js\";import{createQueryParamsHelper as a}from\"../core/queryUtils.js\";import{NAServiceDescriptionMixin as n}from\"./mixins/NAServiceDescription.js\";import p from\"./support/RouteResultsContainer.js\";const l=a({accumulateAttributes:{name:\"accumulateAttributeNames\"},attributeParameterValues:!0,directionsTimeAttribute:{name:\"directionsTimeAttributeName\"},impedanceAttribute:{name:\"impedanceAttributeName\"},outSpatialReference:{name:\"outSR\",getter:e=>e.outSpatialReference.wkid},pointBarriers:{name:\"barriers\"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:\"restrictionAttributeNames\"},stops:!0,travelMode:!0});let u=class extends(n(i)){constructor(e){super(e)}solve(e,r){const i=[],a=[],n={},p={};return e.stops&&e.stops.features&&this._collectGeometries(e.stops.features,a,\"stops.features\",n),e.pointBarriers&&e.pointBarriers.features&&this._collectGeometries(e.pointBarriers.features,a,\"pointBarriers.features\",n),e.polylineBarriers&&e.polylineBarriers.features&&this._collectGeometries(e.polylineBarriers.features,a,\"polylineBarriers.features\",n),e.polygonBarriers&&e.polygonBarriers.features&&this._collectGeometries(e.polygonBarriers.features,a,\"polygonBarriers.features\",n),o(a).then((e=>{for(const r in n){const t=n[r];i.push(r),p[r]=e.slice(t[0],t[1])}return this._isInputGeometryZAware(p,i)?this.getServiceDescription():t({dontCheck:!0})})).then((t=>{(\"dontCheck\"in t?t.dontCheck:t.hasZ)||this._dropZValuesOffInputGeometry(p,i);for(const r in p)p[r].forEach(((t,s)=>{e.get(r)[s].geometry=t}));let o={query:{...this.parsedUrl.query,f:\"json\",...l.toQueryParams(e)}};(this.requestOptions||r)&&(o={...this.requestOptions,...r,...o});const{path:a}=this.parsedUrl,n=\"/solve\",u=a.endsWith(n)?a:a+n;return s(u,o)})).then((e=>this._handleSolveResponse(e)))}_collectGeometries(e,r,t,s){s[t]=[r.length,r.length+e.length],e.forEach((e=>{r.push(e.geometry)}))}_handleSolveResponse(e){const r=[],t=[],{directions:s=[],routes:{features:o=[],spatialReference:i=null}={},stops:{features:a=[],spatialReference:n=null}={},barriers:l,polygonBarriers:u,polylineBarriers:c,messages:m}=e.data,f=\"esri.tasks.RouteTask.NULL_ROUTE_NAME\";let h,y,d=!0;const g=o&&i||a&&n||l&&l.spatialReference||u&&u.spatialReference||c&&c.spatialReference;s.forEach((e=>{r.push(h=e.routeName),t[h]={directions:e}})),o.forEach((e=>{-1===r.indexOf(h=e.attributes.Name)&&(r.push(h),t[h]={}),e.geometry&&(e.geometry.spatialReference=g),t[h].route=e})),a.forEach((e=>{y=e.attributes,-1===r.indexOf(h=y.RouteName||f)&&(r.push(h),t[h]={}),h!==f&&(d=!1),e.geometry&&(e.geometry.spatialReference=g),null==t[h].stops&&(t[h].stops=[]),t[h].stops.push(e)})),a.length>0&&!0===d&&(t[r[0]].stops=t[f].stops,delete t[f],r.splice(r.indexOf(f),1));const B=r.map((e=>(t[e].routeName=e===f?null:e,t[e])));return p.fromJSON({routeResults:B,pointBarriers:l,polygonBarriers:u,polylineBarriers:c,messages:m})}};u=e([r(\"esri.tasks.RouteTask\")],u);var c=u;export default c;\n"],"sourceRoot":""}