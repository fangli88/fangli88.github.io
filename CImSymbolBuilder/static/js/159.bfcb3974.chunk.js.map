{"version":3,"sources":["../node_modules/@arcgis/core/views/2d/engine/webgl/effects/post-processing/Opacity.js"],"names":["t","constructor","this","_size","dispose","_layerFBOTexture","draw","e","r","_createOrResizeResources","context","s","state","i","pixelRatio","a","painter","o","size","l","amount","n","h","Math","round","u","gl","p","bindFramebuffer","copyToTexture","setBlendingEnabled","setStencilTestEnabled","setDepthTestEnabled","setClearColor","clear","COLOR_BUFFER_BIT","blitTexture","resize","target","pixelFormat","internalFormat","dataType","wrapMode","samplingMode","flipped","width","height"],"mappings":"0GAAA,sFAIqO,MAAMA,EAAEC,cAAcC,KAAKC,MAAM,CAAC,EAAE,GAAGC,UAAUF,KAAKG,mBAAmBH,KAAKG,iBAAiBD,UAAUF,KAAKG,iBAAiB,MAAMC,KAAKC,EAAEP,EAAEQ,GAAGN,KAAKO,yBAAyBF,GAAG,MAAMG,QAAQC,EAAEC,MAAMC,EAAEC,WAAWC,EAAEC,QAAQC,GAAGV,GAAGW,KAAKC,GAAGN,GAAGO,OAAOC,GAAGb,EAAEc,EAAE,CAACC,KAAKC,MAAMT,EAAEI,EAAE,IAAII,KAAKC,MAAMT,EAAEI,EAAE,KAAKM,EAAEd,EAAEe,GAAGC,EAAEzB,KAAKG,iBAAiBM,EAAEiB,gBAAgB5B,GAAGA,EAAE6B,cAAc,EAAE,EAAEP,EAAE,GAAGA,EAAE,GAAG,EAAE,EAAEK,GAAGhB,EAAEmB,oBAAmB,GAAInB,EAAEoB,uBAAsB,GAAIpB,EAAEqB,qBAAoB,GAAIrB,EAAEsB,cAAc,EAAE,EAAE,EAAE,GAAGtB,EAAEuB,MAAMT,EAAEU,kBAAkBlB,EAAEmB,YAAYzB,EAAEgB,EAAE,KAAKN,GAAGZ,yBAAyBT,GAAG,MAAMU,QAAQF,EAAEI,MAAMD,EAAEG,WAAWD,GAAGb,GAAGkB,KAAKH,GAAGJ,EAAEM,EAAEM,KAAKC,MAAMX,EAAEE,EAAE,IAAII,EAAEI,KAAKC,MAAMX,EAAEE,EAAE,IAAIb,KAAKG,kBAAkBH,KAAKC,MAAM,KAAKc,GAAGf,KAAKC,MAAM,KAAKgB,IAAIjB,KAAKC,MAAM,GAAGc,EAAEf,KAAKC,MAAM,GAAGgB,EAAEjB,KAAKG,iBAAiBH,KAAKG,iBAAiBgC,OAAOpB,EAAEE,GAAGjB,KAAKG,iBAAiB,IAAIE,IAAEC,EAAE,CAAC8B,OAAO,KAAKC,YAAY,KAAKC,eAAe,KAAKC,SAAS,KAAKC,SAAS,MAAMC,aAAa,KAAKC,SAAQ,EAAGC,MAAM5B,EAAE6B,OAAO3B","file":"static/js/159.bfcb3974.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../../../../core/has.js\";import\"../../../../../../chunks/builtins.js\";import e from\"../../../../../webgl/Texture.js\";import\"../../../../../webgl/FramebufferObject.js\";import\"../../../../../webgl/RenderingContext.js\";class t{constructor(){this._size=[0,0]}dispose(){this._layerFBOTexture&&(this._layerFBOTexture.dispose(),this._layerFBOTexture=null)}draw(e,t,r){this._createOrResizeResources(e);const{context:s,state:i,pixelRatio:a,painter:o}=e,{size:l}=i,{amount:n}=r,h=[Math.round(a*l[0]),Math.round(a*l[1])],u=s.gl,p=this._layerFBOTexture;s.bindFramebuffer(t),t.copyToTexture(0,0,h[0],h[1],0,0,p),s.setBlendingEnabled(!0),s.setStencilTestEnabled(!1),s.setDepthTestEnabled(!1),s.setClearColor(0,0,0,0),s.clear(u.COLOR_BUFFER_BIT),o.blitTexture(s,p,9728,n)}_createOrResizeResources(t){const{context:r,state:s,pixelRatio:i}=t,{size:a}=s,o=Math.round(i*a[0]),l=Math.round(i*a[1]);this._layerFBOTexture&&this._size[0]===o&&this._size[1]===l||(this._size[0]=o,this._size[1]=l,this._layerFBOTexture?this._layerFBOTexture.resize(o,l):this._layerFBOTexture=new e(r,{target:3553,pixelFormat:6408,internalFormat:6408,dataType:5121,wrapMode:33071,samplingMode:9728,flipped:!1,width:o,height:l}))}}export{t as Opacity};\n"],"sourceRoot":""}